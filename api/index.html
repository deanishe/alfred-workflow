
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>API documentation &mdash; Alfred-Workflow 1.26.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.26.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Alfred-Workflow 1.26.1 documentation" href="../index.html" />
    <link rel="next" title="Contributing" href="../contributing.html" />
    <link rel="prev" title="Encoded strings and Unicode" href="../guide/text-encoding.html" />

   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />


<!--[if lt IE 9]>
  <link rel="stylesheet" href="_static/gh-fork-ribbon.ie.css">
<![endif]-->
<link rel="stylesheet" href="../_static/custom.css">

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../contributing.html" title="Contributing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../guide/text-encoding.html" title="Encoded strings and Unicode"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Alfred-Workflow 1.26.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="api-documentation">
<span id="api"></span><h1>API documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h1>
<p>Documentation for Alfred-Workflow&#8217;s classes and methods.</p>
<p>See <a class="reference internal" href="../guide/index.html#user-manual"><span>User Guide</span></a> for documentation focussed on performing specific
tasks.</p>
<p>See the <a class="reference internal" href="../genindex.html"><span>main index</span></a> for a list of all classes and methods.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#module-workflow" id="id1">Workflow objects</a><ul>
<li><a class="reference internal" href="#settings" id="id2">Settings</a></li>
<li><a class="reference internal" href="#serializers" id="id3">Serializers</a></li>
<li><a class="reference internal" href="#exceptions" id="id4">Exceptions</a></li>
<li><a class="reference internal" href="#utilities-helpers" id="id5">Utilities &amp; helpers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-workflow.workflow3" id="id6">Workflow3 objects</a><ul>
<li><a class="reference internal" href="#workflow-variables" id="id7">Workflow variables</a></li>
<li><a class="reference internal" href="#advanced-modifiers" id="id8">Advanced modifiers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-workflow.background" id="id9">Background processes</a></li>
<li><a class="reference internal" href="#module-workflow.web" id="id10">HTTP requests</a><ul>
<li><a class="reference internal" href="#response-objects" id="id11">Response objects</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-workflow.update" id="id12">Workflow updates</a><ul>
<li><a class="reference internal" href="#helpers" id="id13">Helpers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-workflow.notify" id="id14">Notifications</a><ul>
<li><a class="reference internal" href="#helper-functions" id="id15">Helper functions</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="module-workflow">
<span id="workflow-objects"></span><span id="api-workflow"></span><h2><a class="toc-backref" href="#id1">Workflow objects</a><a class="headerlink" href="#module-workflow" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> object is the main interface to this library.</p>
<p><a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> is targeted at Alfred 2. Use <a class="reference internal" href="#workflow.Workflow3" title="workflow.Workflow3"><code class="xref py py-class docutils literal"><span class="pre">Workflow3</span></code></a> if
you want to use Alfred 3&#8217;s new features, such as
<a class="reference internal" href="../guide/workflow-variables.html#workflow-variables"><span>workflow variables</span></a> or
<a class="reference internal" href="#api-modifiers"><span>more powerful modifiers</span></a>.</p>
<p>See <a class="reference internal" href="../guide/setup.html#setup"><span>Workflow setup and skeleton</span></a> in the <a class="reference internal" href="../guide/index.html#user-manual"><span>User Guide</span></a> for an example of how to set
up your Python script to best utilise the <a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> object.</p>
<dl class="class">
<dt id="workflow.Workflow">
<em class="property">class </em><code class="descclassname">workflow.</code><code class="descname">Workflow</code><span class="sig-paren">(</span><em>default_settings=None</em>, <em>update_settings=None</em>, <em>input_encoding=u'utf-8'</em>, <em>normalization=u'NFC'</em>, <em>capture_args=True</em>, <em>libraries=None</em>, <em>help_url=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">Workflow</span></code> object is the main interface to Alfred-Workflow.</p>
<p>It provides APIs for accessing the Alfred/workflow environment,
storing &amp; caching data, using Keychain, and generating Script
Filter feedback.</p>
<p><code class="docutils literal"><span class="pre">Workflow</span></code> is compatible with both Alfred 2 and 3. The
<a class="reference internal" href="#workflow.Workflow3" title="workflow.Workflow3"><code class="xref py py-class docutils literal"><span class="pre">Workflow3</span></code></a> subclass provides additional,
Alfred 3-only features, such as workflow variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>default_settings</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a>) &#8211; default workflow settings. If no settings file
exists, <a class="reference internal" href="#workflow.Workflow.settings" title="workflow.Workflow.settings"><code class="xref py py-class docutils literal"><span class="pre">Workflow.settings</span></code></a> will be pre-populated with
<code class="docutils literal"><span class="pre">default_settings</span></code>.</li>
<li><strong>update_settings</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a>) &#8211; settings for updating your workflow from
GitHub releases. The only required key is <code class="docutils literal"><span class="pre">github_slug</span></code>,
whose value must take the form of <code class="docutils literal"><span class="pre">username/repo</span></code>.
If specified, <code class="docutils literal"><span class="pre">Workflow</span></code> will check the repo&#8217;s releases
for updates. Your workflow must also have a semantic version
number. Please see the <a class="reference internal" href="../guide/index.html#user-manual"><span>User Manual</span></a> and
<cite>update API docs &lt;api-updates&gt;</cite> for more information.</li>
<li><strong>input_encoding</strong> (<code class="xref py py-class docutils literal"><span class="pre">unicode</span></code>) &#8211; encoding of command line arguments. You
should probably leave this as the default (<code class="docutils literal"><span class="pre">utf-8</span></code>), which
is the encoding Alfred uses.</li>
<li><strong>normalization</strong> (<code class="xref py py-class docutils literal"><span class="pre">unicode</span></code>) &#8211; normalisation to apply to CLI args.
See <a class="reference internal" href="#workflow.Workflow.decode" title="workflow.Workflow.decode"><code class="xref py py-meth docutils literal"><span class="pre">Workflow.decode()</span></code></a> for more details.</li>
<li><strong>capture_args</strong> (<code class="xref py py-class docutils literal"><span class="pre">Boolean</span></code>) &#8211; Capture and act on <code class="docutils literal"><span class="pre">workflow:*</span></code> arguments. See
<a class="reference internal" href="../guide/magic-arguments.html#magic-arguments"><span>Magic arguments</span></a> for details.</li>
<li><strong>libraries</strong> (<code class="xref py py-class docutils literal"><span class="pre">tuple</span></code> or <a class="reference external" href="http://docs.python.org/2.7/library/functions.html#list" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">list</span></code></a>) &#8211; sequence of paths to directories containing
libraries. These paths will be prepended to <code class="docutils literal"><span class="pre">sys.path</span></code>.</li>
<li><strong>help_url</strong> (<code class="xref py py-class docutils literal"><span class="pre">unicode</span></code> or <a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">str</span></code></a>) &#8211; URL to webpage where a user can ask for help with
the workflow, report bugs, etc. This could be the GitHub repo
or a page on AlfredForum.com. If your workflow throws an error,
this URL will be displayed in the log and Alfred&#8217;s debugger. It can
also be opened directly in a web browser with the <code class="docutils literal"><span class="pre">workflow:help</span></code>
<a class="reference internal" href="../guide/magic-arguments.html#magic-arguments"><span>magic argument</span></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="workflow.Workflow.add_item">
<code class="descname">add_item</code><span class="sig-paren">(</span><em>title</em>, <em>subtitle=u''</em>, <em>modifier_subtitles=None</em>, <em>arg=None</em>, <em>autocomplete=None</em>, <em>valid=False</em>, <em>uid=None</em>, <em>icon=None</em>, <em>icontype=None</em>, <em>type=None</em>, <em>largetext=None</em>, <em>copytext=None</em>, <em>quicklookurl=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.add_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an item to be output to Alfred.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>title</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Title shown in Alfred</li>
<li><strong>subtitle</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Subtitle shown in Alfred</li>
<li><strong>modifier_subtitles</strong> (<code class="docutils literal"><span class="pre">dict</span></code>) &#8211; Subtitles shown when modifier
(CMD, OPT etc.) is pressed. Use a <code class="docutils literal"><span class="pre">dict</span></code> with the lowercase
keys <code class="docutils literal"><span class="pre">cmd</span></code>, <code class="docutils literal"><span class="pre">ctrl</span></code>, <code class="docutils literal"><span class="pre">shift</span></code>, <code class="docutils literal"><span class="pre">alt</span></code> and <code class="docutils literal"><span class="pre">fn</span></code></li>
<li><strong>arg</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Argument passed by Alfred as <code class="docutils literal"><span class="pre">{query}</span></code> when item is
actioned</li>
<li><strong>autocomplete</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Text expanded in Alfred when item is TABbed</li>
<li><strong>valid</strong> (<code class="docutils literal"><span class="pre">Boolean</span></code>) &#8211; Whether or not item can be actioned</li>
<li><strong>uid</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Used by Alfred to remember/sort items</li>
<li><strong>icon</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Filename of icon to use</li>
<li><strong>icontype</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Type of icon. Must be one of <code class="docutils literal"><span class="pre">None</span></code> , <code class="docutils literal"><span class="pre">'filetype'</span></code>
or <code class="docutils literal"><span class="pre">'fileicon'</span></code>. Use <code class="docutils literal"><span class="pre">'filetype'</span></code> when <code class="docutils literal"><span class="pre">icon</span></code> is a filetype
such as <code class="docutils literal"><span class="pre">'public.folder'</span></code>. Use <code class="docutils literal"><span class="pre">'fileicon'</span></code> when you wish to
use the icon of the file specified as <code class="docutils literal"><span class="pre">icon</span></code>, e.g.
<code class="docutils literal"><span class="pre">icon='/Applications/Safari.app',</span> <span class="pre">icontype='fileicon'</span></code>.
Leave as <cite>None</cite> if <code class="docutils literal"><span class="pre">icon</span></code> points to an actual
icon file.</li>
<li><strong>type</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Result type. Currently only <code class="docutils literal"><span class="pre">'file'</span></code> is supported
(by Alfred). This will tell Alfred to enable file actions for
this item.</li>
<li><strong>largetext</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Text to be displayed in Alfred&#8217;s large text box
if user presses CMD+L on item.</li>
<li><strong>copytext</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Text to be copied to pasteboard if user presses
CMD+C on item.</li>
<li><strong>quicklookurl</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; URL to be displayed using Alfred&#8217;s Quick Look
feature (tapping <code class="docutils literal"><span class="pre">SHIFT</span></code> or <code class="docutils literal"><span class="pre">⌘+Y</span></code> on a result).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">Item</span></code> instance</p>
</td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="../guide/icons.html#icons"><span>System icons</span></a> for a list of the supported system icons.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Although this method returns an <code class="xref py py-class docutils literal"><span class="pre">Item</span></code> instance, you don&#8217;t
need to hold onto it or worry about it. All generated <code class="xref py py-class docutils literal"><span class="pre">Item</span></code>
instances are also collected internally and sent to Alfred when
<a class="reference internal" href="#workflow.Workflow.send_feedback" title="workflow.Workflow.send_feedback"><code class="xref py py-meth docutils literal"><span class="pre">send_feedback()</span></code></a> is called.</p>
<p class="last">The generated <code class="xref py py-class docutils literal"><span class="pre">Item</span></code> is only returned in case you want to
edit it or do something with it other than send it to Alfred.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.alfred_env">
<code class="descname">alfred_env</code><a class="headerlink" href="#workflow.Workflow.alfred_env" title="Permalink to this definition">¶</a></dt>
<dd><p>Dict of Alfred&#8217;s environmental variables minus <code class="docutils literal"><span class="pre">alfred_</span></code> prefix.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.7.</span></p>
</div>
<p>The variables Alfred 2.4+ exports are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>debug</td>
<td>Set to <code class="docutils literal"><span class="pre">1</span></code> if Alfred&#8217;s debugger is
open, otherwise unset.</td>
</tr>
<tr class="row-odd"><td>preferences</td>
<td>Path to Alfred.alfredpreferences
(where your workflows and settings are
stored).</td>
</tr>
<tr class="row-even"><td>preferences_localhash</td>
<td>Machine-specific preferences are stored
in <code class="docutils literal"><span class="pre">Alfred.alfredpreferences/preferences/local/&lt;hash&gt;</span></code>
(see <code class="docutils literal"><span class="pre">preferences</span></code> above for
the path to <code class="docutils literal"><span class="pre">Alfred.alfredpreferences</span></code>)</td>
</tr>
<tr class="row-odd"><td>theme</td>
<td>ID of selected theme</td>
</tr>
<tr class="row-even"><td>theme_background</td>
<td>Background colour of selected theme in
format <code class="docutils literal"><span class="pre">rgba(r,g,b,a)</span></code></td>
</tr>
<tr class="row-odd"><td>theme_subtext</td>
<td>Show result subtext.
<code class="docutils literal"><span class="pre">0</span></code> = Always,
<code class="docutils literal"><span class="pre">1</span></code> = Alternative actions only,
<code class="docutils literal"><span class="pre">2</span></code> = Selected result only,
<code class="docutils literal"><span class="pre">3</span></code> = Never</td>
</tr>
<tr class="row-even"><td>version</td>
<td>Alfred version number, e.g. <code class="docutils literal"><span class="pre">'2.4'</span></code></td>
</tr>
<tr class="row-odd"><td>version_build</td>
<td>Alfred build number, e.g. <code class="docutils literal"><span class="pre">277</span></code></td>
</tr>
<tr class="row-even"><td>workflow_bundleid</td>
<td>Bundle ID, e.g.
<code class="docutils literal"><span class="pre">net.deanishe.alfred-mailto</span></code></td>
</tr>
<tr class="row-odd"><td>workflow_cache</td>
<td>Path to workflow&#8217;s cache directory</td>
</tr>
<tr class="row-even"><td>workflow_data</td>
<td>Path to workflow&#8217;s data directory</td>
</tr>
<tr class="row-odd"><td>workflow_name</td>
<td>Name of current workflow</td>
</tr>
<tr class="row-even"><td>workflow_uid</td>
<td>UID of workflow</td>
</tr>
<tr class="row-odd"><td>workflow_version</td>
<td>The version number specified in the
workflow configuration sheet/info.plist</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> all values are Unicode strings except <code class="docutils literal"><span class="pre">version_build</span></code> and
<code class="docutils literal"><span class="pre">theme_subtext</span></code>, which are integers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">dict</span></code> of Alfred&#8217;s environmental variables without the
<code class="docutils literal"><span class="pre">alfred_</span></code> prefix, e.g. <code class="docutils literal"><span class="pre">preferences</span></code>, <code class="docutils literal"><span class="pre">workflow_data</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.alfred_version">
<code class="descname">alfred_version</code><a class="headerlink" href="#workflow.Workflow.alfred_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Alfred version as <a class="reference internal" href="#workflow.update.Version" title="workflow.update.Version"><code class="xref py py-class docutils literal"><span class="pre">Version</span></code></a> object.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.args">
<code class="descname">args</code><a class="headerlink" href="#workflow.Workflow.args" title="Permalink to this definition">¶</a></dt>
<dd><p>Return command line args as normalised unicode.</p>
<p>Args are decoded and normalised via <a class="reference internal" href="#workflow.Workflow.decode" title="workflow.Workflow.decode"><code class="xref py py-meth docutils literal"><span class="pre">decode()</span></code></a>.</p>
<p>The encoding and normalisation are the <code class="docutils literal"><span class="pre">input_encoding</span></code> and
<code class="docutils literal"><span class="pre">normalization</span></code> arguments passed to <a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> (<code class="docutils literal"><span class="pre">UTF-8</span></code>
and <code class="docutils literal"><span class="pre">NFC</span></code> are the defaults).</p>
<p>If <a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> is called with <code class="docutils literal"><span class="pre">capture_args=True</span></code>
(the default), <a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> will look for certain
<code class="docutils literal"><span class="pre">workflow:*</span></code> args and, if found, perform the corresponding
actions and exit the workflow.</p>
<p>See <a class="reference internal" href="../guide/magic-arguments.html#magic-arguments"><span>Magic arguments</span></a> for details.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.bundleid">
<code class="descname">bundleid</code><a class="headerlink" href="#workflow.Workflow.bundleid" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow bundle ID from environmental vars or <code class="docutils literal"><span class="pre">info.plist</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bundle ID</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.cache_data">
<code class="descname">cache_data</code><span class="sig-paren">(</span><em>name</em>, <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.cache_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Save <code class="docutils literal"><span class="pre">data</span></code> to cache under <code class="docutils literal"><span class="pre">name</span></code>.</p>
<p>If <code class="docutils literal"><span class="pre">data</span></code> is <code class="docutils literal"><span class="pre">None</span></code>, the corresponding cache file will be
deleted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; name of datastore</li>
<li><strong>data</strong> &#8211; data to store. This may be any object supported by
the cache serializer</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.cache_serializer">
<code class="descname">cache_serializer</code><a class="headerlink" href="#workflow.Workflow.cache_serializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of default cache serializer.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>This serializer is used by <a class="reference internal" href="#workflow.Workflow.cache_data" title="workflow.Workflow.cache_data"><code class="xref py py-meth docutils literal"><span class="pre">cache_data()</span></code></a> and
<a class="reference internal" href="#workflow.Workflow.cached_data" title="workflow.Workflow.cached_data"><code class="xref py py-meth docutils literal"><span class="pre">cached_data()</span></code></a></p>
<p>See <code class="xref py py-class docutils literal"><span class="pre">SerializerManager</span></code> for details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">serializer name</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.cached_data">
<code class="descname">cached_data</code><span class="sig-paren">(</span><em>name</em>, <em>data_func=None</em>, <em>max_age=60</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.cached_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return cached data if younger than <code class="docutils literal"><span class="pre">max_age</span></code> seconds.</p>
<p>Retrieve data from cache or re-generate and re-cache data if
stale/non-existant. If <code class="docutils literal"><span class="pre">max_age</span></code> is 0, return cached data no
matter how old.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; name of datastore</li>
<li><strong>data_func</strong> (<code class="docutils literal"><span class="pre">callable</span></code>) &#8211; function to (re-)generate data.</li>
<li><strong>max_age</strong> (<code class="docutils literal"><span class="pre">int</span></code>) &#8211; maximum age of cached data in seconds</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">cached data, return value of <code class="docutils literal"><span class="pre">data_func</span></code> or <code class="docutils literal"><span class="pre">None</span></code>
if <code class="docutils literal"><span class="pre">data_func</span></code> is not set</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.cached_data_age">
<code class="descname">cached_data_age</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.cached_data_age" title="Permalink to this definition">¶</a></dt>
<dd><p>Return age in seconds of cache <cite>name</cite> or 0 if cache doesn&#8217;t exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; name of datastore</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">age of datastore in seconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">int</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.cached_data_fresh">
<code class="descname">cached_data_fresh</code><span class="sig-paren">(</span><em>name</em>, <em>max_age</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.cached_data_fresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether cache <cite>name</cite> is less than <cite>max_age</cite> seconds old.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; name of datastore</li>
<li><strong>max_age</strong> (<code class="docutils literal"><span class="pre">int</span></code>) &#8211; maximum age of data in seconds</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">True</span></code> if data is less than <code class="docutils literal"><span class="pre">max_age</span></code> old, else
<code class="docutils literal"><span class="pre">False</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.cachedir">
<code class="descname">cachedir</code><a class="headerlink" href="#workflow.Workflow.cachedir" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to workflow&#8217;s cache directory.</p>
<p>The cache directory is a subdirectory of Alfred&#8217;s own cache directory
in <code class="docutils literal"><span class="pre">~/Library/Caches</span></code>. The full path is:</p>
<p><code class="docutils literal"><span class="pre">~/Library/Caches/com.runningwithcrayons.Alfred-X/Workflow</span> <span class="pre">Data/&lt;bundle</span> <span class="pre">id&gt;</span></code></p>
<p><code class="docutils literal"><span class="pre">Alfred-X</span></code> may be <code class="docutils literal"><span class="pre">Alfred-2</span></code> or <code class="docutils literal"><span class="pre">Alfred-3</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">full path to workflow&#8217;s cache directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.cachefile">
<code class="descname">cachefile</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.cachefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to <code class="docutils literal"><span class="pre">filename</span></code> in workflow&#8217;s cache directory.</p>
<p>Return absolute path to <code class="docutils literal"><span class="pre">filename</span></code> within your workflow&#8217;s
<a class="reference internal" href="#workflow.Workflow.cachedir" title="workflow.Workflow.cachedir"><code class="xref py py-attr docutils literal"><span class="pre">cache</span> <span class="pre">directory</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; basename of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">full path to file within cache directory</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.check_update">
<code class="descname">check_update</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.check_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Call update script if it&#8217;s time to check for a new release.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.</span></p>
</div>
<p>The update script will be run in the background, so it won&#8217;t
interfere in the execution of your workflow.</p>
<p>See <a class="reference internal" href="../guide/update.html#guide-updates"><span>Self-updating</span></a> in the <a class="reference internal" href="../guide/index.html#user-manual"><span>User Guide</span></a> for detailed
information on how to enable your workflow to update itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>force</strong> (<code class="docutils literal"><span class="pre">Boolean</span></code>) &#8211; Force update check</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.clear_cache">
<code class="descname">clear_cache</code><span class="sig-paren">(</span><em>filter_func=&lt;function &lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.clear_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all files in workflow&#8217;s <a class="reference internal" href="#workflow.Workflow.cachedir" title="workflow.Workflow.cachedir"><code class="xref py py-attr docutils literal"><span class="pre">cachedir</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filter_func</strong> (<code class="docutils literal"><span class="pre">callable</span></code>) &#8211; Callable to determine whether a file should be
deleted or not. <code class="docutils literal"><span class="pre">filter_func</span></code> is called with the filename
of each file in the data directory. If it returns <code class="docutils literal"><span class="pre">True</span></code>,
the file will be deleted.
By default, <em>all</em> files will be deleted.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.clear_data">
<code class="descname">clear_data</code><span class="sig-paren">(</span><em>filter_func=&lt;function &lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.clear_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all files in workflow&#8217;s <a class="reference internal" href="#workflow.Workflow.datadir" title="workflow.Workflow.datadir"><code class="xref py py-attr docutils literal"><span class="pre">datadir</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filter_func</strong> (<code class="docutils literal"><span class="pre">callable</span></code>) &#8211; Callable to determine whether a file should be
deleted or not. <code class="docutils literal"><span class="pre">filter_func</span></code> is called with the filename
of each file in the data directory. If it returns <code class="docutils literal"><span class="pre">True</span></code>,
the file will be deleted.
By default, <em>all</em> files will be deleted.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.clear_settings">
<code class="descname">clear_settings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.clear_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete workflow&#8217;s <a class="reference internal" href="#workflow.Workflow.settings_path" title="workflow.Workflow.settings_path"><code class="xref py py-attr docutils literal"><span class="pre">settings_path</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.data_serializer">
<code class="descname">data_serializer</code><a class="headerlink" href="#workflow.Workflow.data_serializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of default data serializer.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>This serializer is used by <a class="reference internal" href="#workflow.Workflow.store_data" title="workflow.Workflow.store_data"><code class="xref py py-meth docutils literal"><span class="pre">store_data()</span></code></a> and
<a class="reference internal" href="#workflow.Workflow.stored_data" title="workflow.Workflow.stored_data"><code class="xref py py-meth docutils literal"><span class="pre">stored_data()</span></code></a></p>
<p>See <code class="xref py py-class docutils literal"><span class="pre">SerializerManager</span></code> for details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">serializer name</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.datadir">
<code class="descname">datadir</code><a class="headerlink" href="#workflow.Workflow.datadir" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to workflow&#8217;s data directory.</p>
<p>The data directory is a subdirectory of Alfred&#8217;s own data directory in
<code class="docutils literal"><span class="pre">~/Library/Application</span> <span class="pre">Support</span></code>. The full path is:</p>
<p><code class="docutils literal"><span class="pre">~/Library/Application</span> <span class="pre">Support/Alfred</span> <span class="pre">2/Workflow</span> <span class="pre">Data/&lt;bundle</span> <span class="pre">id&gt;</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">full path to workflow data directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.datafile">
<code class="descname">datafile</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.datafile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to <code class="docutils literal"><span class="pre">filename</span></code> in workflow&#8217;s data directory.</p>
<p>Return absolute path to <code class="docutils literal"><span class="pre">filename</span></code> within your workflow&#8217;s
<a class="reference internal" href="#workflow.Workflow.datadir" title="workflow.Workflow.datadir"><code class="xref py py-attr docutils literal"><span class="pre">data</span> <span class="pre">directory</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; basename of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">full path to file within data directory</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.debugging">
<code class="descname">debugging</code><a class="headerlink" href="#workflow.Workflow.debugging" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether Alfred&#8217;s debugger is open.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">True</span></code> if Alfred&#8217;s debugger is open.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.decode">
<code class="descname">decode</code><span class="sig-paren">(</span><em>text</em>, <em>encoding=None</em>, <em>normalization=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">text</span></code> as normalised unicode.</p>
<p>If <code class="docutils literal"><span class="pre">encoding</span></code> and/or <code class="docutils literal"><span class="pre">normalization</span></code> is <code class="docutils literal"><span class="pre">None</span></code>, the
<code class="docutils literal"><span class="pre">input_encoding``and</span> <span class="pre">``normalization</span></code> parameters passed to
<a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> are used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (encoded or Unicode string. If <code class="docutils literal"><span class="pre">text</span></code> is already a
Unicode string, it will only be normalised.) &#8211; string</li>
<li><strong>encoding</strong> (<code class="docutils literal"><span class="pre">unicode</span></code> or <code class="docutils literal"><span class="pre">None</span></code>) &#8211; The text encoding to use to decode <code class="docutils literal"><span class="pre">text</span></code> to
Unicode.</li>
<li><strong>normalization</strong> (<code class="docutils literal"><span class="pre">unicode</span></code> or <code class="docutils literal"><span class="pre">None</span></code>) &#8211; The nomalisation form to apply to <code class="docutils literal"><span class="pre">text</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">decoded and normalised <code class="docutils literal"><span class="pre">unicode</span></code></p>
</td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> uses &#8220;NFC&#8221; normalisation by default. This is the
standard for Python and will work well with data from the web (via
<a class="reference internal" href="#module-workflow.web" title="workflow.web"><code class="xref py py-mod docutils literal"><span class="pre">web</span></code></a> or <a class="reference external" href="http://docs.python.org/2.7/library/json.html#module-json" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">json</span></code></a>).</p>
<p>macOS, on the other hand, uses &#8220;NFD&#8221; normalisation (nearly), so data
coming from the system (e.g. via <a class="reference external" href="http://docs.python.org/2.7/library/subprocess.html#module-subprocess" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">subprocess</span></code></a> or
<a class="reference external" href="http://docs.python.org/2.7/library/os.html#os.listdir" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">os.listdir()</span></code></a>/<a class="reference external" href="http://docs.python.org/2.7/library/os.path.html#module-os.path" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">os.path</span></code></a>) may not match. You should either
normalise this data, too, or change the default normalisation used by
<a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.delete_password">
<code class="descname">delete_password</code><span class="sig-paren">(</span><em>account</em>, <em>service=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.delete_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the password stored at <code class="docutils literal"><span class="pre">service/account</span></code>.</p>
<p>Raise <a class="reference internal" href="#workflow.PasswordNotFound" title="workflow.PasswordNotFound"><code class="xref py py-class docutils literal"><span class="pre">PasswordNotFound</span></code></a> if account is unknown.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>account</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; name of the account the password is for, e.g.
&#8220;Pinboard&#8221;</li>
<li><strong>service</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Name of the service. By default, this is the workflow&#8217;s
bundle ID</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.dumbify_punctuation">
<code class="descname">dumbify_punctuation</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.dumbify_punctuation" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert non-ASCII punctuation to closest ASCII equivalent.</p>
<p>This method replaces &#8220;smart&#8221; quotes and n- or m-dashes with their
workaday ASCII equivalents. This method is currently not used
internally, but exists as a helper method for workflow authors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; text to convert</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">text with only ASCII punctuation</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.filter">
<code class="descname">filter</code><span class="sig-paren">(</span><em>query</em>, <em>items</em>, <em>key=&lt;function &lt;lambda&gt;&gt;</em>, <em>ascending=False</em>, <em>include_score=False</em>, <em>min_score=0</em>, <em>max_results=0</em>, <em>match_on=127</em>, <em>fold_diacritics=True</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Fuzzy search filter. Returns list of <code class="docutils literal"><span class="pre">items</span></code> that match <code class="docutils literal"><span class="pre">query</span></code>.</p>
<p><code class="docutils literal"><span class="pre">query</span></code> is case-insensitive. Any item that does not contain the
entirety of <code class="docutils literal"><span class="pre">query</span></code> is rejected.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If <code class="docutils literal"><span class="pre">query</span></code> is an empty string or contains only whitespace,
a <code class="xref py py-class docutils literal"><span class="pre">ValueError</span></code> will be raised.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>query</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; query to test items against</li>
<li><strong>items</strong> (<code class="docutils literal"><span class="pre">list</span></code> or <code class="docutils literal"><span class="pre">tuple</span></code>) &#8211; iterable of items to test</li>
<li><strong>key</strong> (<code class="docutils literal"><span class="pre">callable</span></code>) &#8211; function to get comparison key from <code class="docutils literal"><span class="pre">items</span></code>.
Must return a <code class="docutils literal"><span class="pre">unicode</span></code> string. The default simply returns
the item.</li>
<li><strong>ascending</strong> (<code class="docutils literal"><span class="pre">Boolean</span></code>) &#8211; set to <code class="docutils literal"><span class="pre">True</span></code> to get worst matches first</li>
<li><strong>include_score</strong> (<code class="docutils literal"><span class="pre">Boolean</span></code>) &#8211; Useful for debugging the scoring algorithm.
If <code class="docutils literal"><span class="pre">True</span></code>, results will be a list of tuples
<code class="docutils literal"><span class="pre">(item,</span> <span class="pre">score,</span> <span class="pre">rule)</span></code>.</li>
<li><strong>min_score</strong> (<code class="docutils literal"><span class="pre">int</span></code>) &#8211; If non-zero, ignore results with a score lower
than this.</li>
<li><strong>max_results</strong> (<code class="docutils literal"><span class="pre">int</span></code>) &#8211; If non-zero, prune results list to this length.</li>
<li><strong>match_on</strong> (<code class="docutils literal"><span class="pre">int</span></code>) &#8211; Filter option flags. Bitwise-combined list of
<code class="docutils literal"><span class="pre">MATCH_*</span></code> constants (see below).</li>
<li><strong>fold_diacritics</strong> (<code class="docutils literal"><span class="pre">Boolean</span></code>) &#8211; Convert search keys to ASCII-only
characters if <code class="docutils literal"><span class="pre">query</span></code> only contains ASCII characters.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of <code class="docutils literal"><span class="pre">items</span></code> matching <code class="docutils literal"><span class="pre">query</span></code> or list of
<code class="docutils literal"><span class="pre">(item,</span> <span class="pre">score,</span> <span class="pre">rule)</span></code> <cite>tuples</cite> if <code class="docutils literal"><span class="pre">include_score</span></code> is <code class="docutils literal"><span class="pre">True</span></code>.
<code class="docutils literal"><span class="pre">rule</span></code> is the <code class="docutils literal"><span class="pre">MATCH_*</span></code> rule that matched the item.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">list</span></code></p>
</td>
</tr>
</tbody>
</table>
<p><strong>Matching rules</strong></p>
<p>By default, <a class="reference internal" href="#workflow.Workflow.filter" title="workflow.Workflow.filter"><code class="xref py py-meth docutils literal"><span class="pre">filter()</span></code></a> uses all of the following flags (i.e.
<code class="xref py py-const docutils literal"><span class="pre">MATCH_ALL</span></code>). The tests are always run in the given order:</p>
<ol class="arabic simple">
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_STARTSWITH</span></code></dt>
<dd>Item search key starts with <code class="docutils literal"><span class="pre">query</span></code> (case-insensitive).</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_CAPITALS</span></code></dt>
<dd>The list of capital letters in item search key starts with
<code class="docutils literal"><span class="pre">query</span></code> (<code class="docutils literal"><span class="pre">query</span></code> may be lower-case). E.g., <code class="docutils literal"><span class="pre">of</span></code>
would match <code class="docutils literal"><span class="pre">OmniFocus</span></code>, <code class="docutils literal"><span class="pre">gc</span></code> would match <code class="docutils literal"><span class="pre">Google</span> <span class="pre">Chrome</span></code>.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_ATOM</span></code></dt>
<dd>Search key is split into &#8220;atoms&#8221; on non-word characters
(.,-,&#8217; etc.). Matches if <code class="docutils literal"><span class="pre">query</span></code> is one of these atoms
(case-insensitive).</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_INITIALS_STARTSWITH</span></code></dt>
<dd>Initials are the first characters of the above-described
&#8220;atoms&#8221; (case-insensitive).</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_INITIALS_CONTAIN</span></code></dt>
<dd><code class="docutils literal"><span class="pre">query</span></code> is a substring of the above-described initials.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_INITIALS</span></code></dt>
<dd>Combination of (4) and (5).</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_SUBSTRING</span></code></dt>
<dd><code class="docutils literal"><span class="pre">query</span></code> is a substring of item search key (case-insensitive).</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_ALLCHARS</span></code></dt>
<dd>All characters in <code class="docutils literal"><span class="pre">query</span></code> appear in item search key in
the same order (case-insensitive).</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_ALL</span></code></dt>
<dd>Combination of all the above.</dd>
</dl>
</li>
</ol>
<p><code class="xref py py-const docutils literal"><span class="pre">MATCH_ALLCHARS</span></code> is considerably slower than the other
tests and provides much less accurate results.</p>
<p><strong>Examples:</strong></p>
<p>To ignore <code class="xref py py-const docutils literal"><span class="pre">MATCH_ALLCHARS</span></code> (tends to provide the worst
matches and is expensive to run), use
<code class="docutils literal"><span class="pre">match_on=MATCH_ALL</span> <span class="pre">^</span> <span class="pre">MATCH_ALLCHARS</span></code>.</p>
<p>To match only on capitals, use <code class="docutils literal"><span class="pre">match_on=MATCH_CAPITALS</span></code>.</p>
<p>To match only on startswith and substring, use
<code class="docutils literal"><span class="pre">match_on=MATCH_STARTSWITH</span> <span class="pre">|</span> <span class="pre">MATCH_SUBSTRING</span></code>.</p>
<p><strong>Diacritic folding</strong></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.3.</span></p>
</div>
<p>If <code class="docutils literal"><span class="pre">fold_diacritics</span></code> is <code class="docutils literal"><span class="pre">True</span></code> (the default), and <code class="docutils literal"><span class="pre">query</span></code>
contains only ASCII characters, non-ASCII characters in search keys
will be converted to ASCII equivalents (e.g. <strong>ü</strong> -&gt; <strong>u</strong>,
<strong>ß</strong> -&gt; <strong>ss</strong>, <strong>é</strong> -&gt; <strong>e</strong>).</p>
<p>See <code class="xref py py-const docutils literal"><span class="pre">ASCII_REPLACEMENTS</span></code> for all replacements.</p>
<p>If <code class="docutils literal"><span class="pre">query</span></code> contains non-ASCII characters, search keys will not be
altered.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.first_run">
<code class="descname">first_run</code><a class="headerlink" href="#workflow.Workflow.first_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if it&#8217;s the first time this version has run.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.10.</span></p>
</div>
<p>Raises a <code class="xref py py-class docutils literal"><span class="pre">ValueError</span></code> if <a class="reference internal" href="#workflow.Workflow.version" title="workflow.Workflow.version"><code class="xref py py-attr docutils literal"><span class="pre">version</span></code></a> isn&#8217;t set.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.fold_to_ascii">
<code class="descname">fold_to_ascii</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.fold_to_ascii" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert non-ASCII characters to closest ASCII equivalent.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.3.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This only works for a subset of European languages.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; text to convert</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">text containing only ASCII characters</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.get_password">
<code class="descname">get_password</code><span class="sig-paren">(</span><em>account</em>, <em>service=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.get_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the password saved at <code class="docutils literal"><span class="pre">service/account</span></code>.</p>
<p>Raise <a class="reference internal" href="#workflow.PasswordNotFound" title="workflow.PasswordNotFound"><code class="xref py py-class docutils literal"><span class="pre">PasswordNotFound</span></code></a> exception if password doesn&#8217;t exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>account</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; name of the account the password is for, e.g.
&#8220;Pinboard&#8221;</li>
<li><strong>service</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Name of the service. By default, this is the workflow&#8217;s
bundle ID</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">account password</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">unicode</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.info">
<code class="descname">info</code><a class="headerlink" href="#workflow.Workflow.info" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a> of <code class="docutils literal"><span class="pre">info.plist</span></code> contents.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.item_class">
<code class="descname">item_class</code><a class="headerlink" href="#workflow.Workflow.item_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">Item</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.last_version_run">
<code class="descname">last_version_run</code><a class="headerlink" href="#workflow.Workflow.last_version_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Return version of last version to run (or <code class="docutils literal"><span class="pre">None</span></code>).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.10.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="#workflow.update.Version" title="workflow.update.Version"><code class="xref py py-class docutils literal"><span class="pre">Version</span></code></a> instance
or <code class="docutils literal"><span class="pre">None</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.logfile">
<code class="descname">logfile</code><a class="headerlink" href="#workflow.Workflow.logfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to logfile.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to logfile within workflow&#8217;s cache directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.logger">
<code class="descname">logger</code><a class="headerlink" href="#workflow.Workflow.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Logger that logs to both console and a log file.</p>
<p>If Alfred&#8217;s debugger is open, log level will be <code class="docutils literal"><span class="pre">DEBUG</span></code>,
else it will be <code class="docutils literal"><span class="pre">INFO</span></code>.</p>
<p>Use <a class="reference internal" href="#workflow.Workflow.open_log" title="workflow.Workflow.open_log"><code class="xref py py-meth docutils literal"><span class="pre">open_log()</span></code></a> to open the log file in Console.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an initialised <a class="reference external" href="http://docs.python.org/2.7/library/logging.html#logging.Logger" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">Logger</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.name">
<code class="descname">name</code><a class="headerlink" href="#workflow.Workflow.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow name from Alfred&#8217;s environmental vars or <code class="docutils literal"><span class="pre">info.plist</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">workflow name</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.open_cachedir">
<code class="descname">open_cachedir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.open_cachedir" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the workflow&#8217;s <a class="reference internal" href="#workflow.Workflow.cachedir" title="workflow.Workflow.cachedir"><code class="xref py py-attr docutils literal"><span class="pre">cachedir</span></code></a> in Finder.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.open_datadir">
<code class="descname">open_datadir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.open_datadir" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the workflow&#8217;s <a class="reference internal" href="#workflow.Workflow.datadir" title="workflow.Workflow.datadir"><code class="xref py py-attr docutils literal"><span class="pre">datadir</span></code></a> in Finder.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.open_help">
<code class="descname">open_help</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.open_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Open <code class="xref py py-attr docutils literal"><span class="pre">help_url</span></code> in default browser.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.open_log">
<code class="descname">open_log</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.open_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Open <a class="reference internal" href="#workflow.Workflow.logfile" title="workflow.Workflow.logfile"><code class="xref py py-attr docutils literal"><span class="pre">logfile</span></code></a> in default app (usually Console.app).</p>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.open_terminal">
<code class="descname">open_terminal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.open_terminal" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a Terminal window at workflow&#8217;s <a class="reference internal" href="#workflow.Workflow.workflowdir" title="workflow.Workflow.workflowdir"><code class="xref py py-attr docutils literal"><span class="pre">workflowdir</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.open_workflowdir">
<code class="descname">open_workflowdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.open_workflowdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the workflow&#8217;s <a class="reference internal" href="#workflow.Workflow.workflowdir" title="workflow.Workflow.workflowdir"><code class="xref py py-attr docutils literal"><span class="pre">workflowdir</span></code></a> in Finder.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.prereleases">
<code class="descname">prereleases</code><a class="headerlink" href="#workflow.Workflow.prereleases" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether workflow should update to pre-release versions.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.16.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">True</span></code> if pre-releases are enabled with the <a class="reference internal" href="../guide/magic-arguments.html#magic-arguments"><span>magic
argument</span></a> or the <code class="docutils literal"><span class="pre">update_settings</span></code> dict, else
<code class="docutils literal"><span class="pre">False</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete workflow settings, cache and data.</p>
<p>File <a class="reference internal" href="#workflow.Workflow.settings_path" title="workflow.Workflow.settings_path"><code class="xref py py-attr docutils literal"><span class="pre">settings</span></code></a> and directories
<a class="reference internal" href="#workflow.Workflow.cachedir" title="workflow.Workflow.cachedir"><code class="xref py py-attr docutils literal"><span class="pre">cache</span></code></a> and <a class="reference internal" href="#workflow.Workflow.datadir" title="workflow.Workflow.datadir"><code class="xref py py-attr docutils literal"><span class="pre">data</span></code></a> are deleted.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>func</em>, <em>text_errors=False</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Call <code class="docutils literal"><span class="pre">func</span></code> to run your workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>func</strong> &#8211; Callable to call with <code class="docutils literal"><span class="pre">self</span></code> (i.e. the <a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a>
instance) as first argument.</li>
<li><strong>text_errors</strong> (<code class="docutils literal"><span class="pre">Boolean</span></code>) &#8211; Emit error messages in plain text, not in
Alfred&#8217;s XML/JSON feedback format. Use this when you&#8217;re not
running Alfred-Workflow in a Script Filter and would like
to pass the error message to, say, a notification.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><code class="docutils literal"><span class="pre">func</span></code> will be called with <a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> instance as first
argument.</p>
<p><code class="docutils literal"><span class="pre">func</span></code> should be the main entry point to your workflow.</p>
<p>Any exceptions raised will be logged and an error message will be
output to Alfred.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.save_password">
<code class="descname">save_password</code><span class="sig-paren">(</span><em>account</em>, <em>password</em>, <em>service=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.save_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Save account credentials.</p>
<p>If the account exists, the old password will first be deleted
(Keychain throws an error otherwise).</p>
<p>If something goes wrong, a <a class="reference internal" href="#workflow.KeychainError" title="workflow.KeychainError"><code class="xref py py-class docutils literal"><span class="pre">KeychainError</span></code></a> exception will
be raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>account</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; name of the account the password is for, e.g.
&#8220;Pinboard&#8221;</li>
<li><strong>password</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; the password to secure</li>
<li><strong>service</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Name of the service. By default, this is the
workflow&#8217;s bundle ID</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.send_feedback">
<code class="descname">send_feedback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.send_feedback" title="Permalink to this definition">¶</a></dt>
<dd><p>Print stored items to console/Alfred as XML.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.set_last_version">
<code class="descname">set_last_version</code><span class="sig-paren">(</span><em>version=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.set_last_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Set <a class="reference internal" href="#workflow.Workflow.last_version_run" title="workflow.Workflow.last_version_run"><code class="xref py py-attr docutils literal"><span class="pre">last_version_run</span></code></a> to current version.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.10.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>version</strong> (<a class="reference internal" href="#workflow.update.Version" title="workflow.update.Version"><code class="xref py py-class docutils literal"><span class="pre">Version</span></code></a> instance
or <code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; version to store (default is current version)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">True</span></code> if version is saved, else <code class="docutils literal"><span class="pre">False</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.settings">
<code class="descname">settings</code><a class="headerlink" href="#workflow.Workflow.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary subclass that saves itself when changed.</p>
<p>See <a class="reference internal" href="../guide/persistent-data.html#guide-settings"><span>Settings</span></a> in the <a class="reference internal" href="../guide/index.html#user-manual"><span>User Guide</span></a> for more
information on how to use <a class="reference internal" href="#workflow.Workflow.settings" title="workflow.Workflow.settings"><code class="xref py py-attr docutils literal"><span class="pre">settings</span></code></a> and <strong>important
limitations</strong> on what it can do.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="#workflow.workflow.Settings" title="workflow.workflow.Settings"><code class="xref py py-class docutils literal"><span class="pre">Settings</span></code></a> instance
initialised from the data in JSON file at
<a class="reference internal" href="#workflow.Workflow.settings_path" title="workflow.Workflow.settings_path"><code class="xref py py-attr docutils literal"><span class="pre">settings_path</span></code></a> or if that doesn&#8217;t exist, with the
<code class="docutils literal"><span class="pre">default_settings</span></code> <a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a> passed to
<a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> on instantiation.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#workflow.workflow.Settings" title="workflow.workflow.Settings"><code class="xref py py-class docutils literal"><span class="pre">Settings</span></code></a> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.settings_path">
<code class="descname">settings_path</code><a class="headerlink" href="#workflow.Workflow.settings_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to settings file within workflow&#8217;s data directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to <code class="docutils literal"><span class="pre">settings.json</span></code> file</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.start_update">
<code class="descname">start_update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.start_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for update and download and install new workflow file.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.</span></p>
</div>
<p>See <a class="reference internal" href="../guide/update.html#guide-updates"><span>Self-updating</span></a> in the <a class="reference internal" href="../guide/index.html#user-manual"><span>User Guide</span></a> for detailed
information on how to enable your workflow to update itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">True</span></code> if an update is available and will be
installed, else <code class="docutils literal"><span class="pre">False</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.store_data">
<code class="descname">store_data</code><span class="sig-paren">(</span><em>name</em>, <em>data</em>, <em>serializer=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.store_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Save data to data directory.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>If <code class="docutils literal"><span class="pre">data</span></code> is <code class="docutils literal"><span class="pre">None</span></code>, the datastore will be deleted.</p>
<p>Note that the datastore does NOT support mutliple threads.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; name of datastore</li>
<li><strong>data</strong> &#8211; object(s) to store. <strong>Note:</strong> some serializers
can only handled certain types of data.</li>
<li><strong>serializer</strong> &#8211; name of serializer to use. If no serializer
is specified, the default will be used. See
<code class="xref py py-class docutils literal"><span class="pre">SerializerManager</span></code> for more information.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">data in datastore or <code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.stored_data">
<code class="descname">stored_data</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.stored_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve data from data directory.</p>
<p>Returns <code class="docutils literal"><span class="pre">None</span></code> if there are no data stored under <code class="docutils literal"><span class="pre">name</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> &#8211; name of datastore</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.update_available">
<code class="descname">update_available</code><a class="headerlink" href="#workflow.Workflow.update_available" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether an update is available.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.</span></p>
</div>
<p>See <a class="reference internal" href="../guide/update.html#guide-updates"><span>Self-updating</span></a> in the <a class="reference internal" href="../guide/index.html#user-manual"><span>User Guide</span></a> for detailed
information on how to enable your workflow to update itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">True</span></code> if an update is available, else <code class="docutils literal"><span class="pre">False</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.version">
<code class="descname">version</code><a class="headerlink" href="#workflow.Workflow.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the version of the workflow.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.10.</span></p>
</div>
<p>Get the workflow version from environment variable,
the <code class="docutils literal"><span class="pre">update_settings</span></code> dict passed on
instantiation, the <code class="docutils literal"><span class="pre">version</span></code> file located in the workflow&#8217;s
root directory or <code class="docutils literal"><span class="pre">info.plist</span></code>. Return <code class="docutils literal"><span class="pre">None</span></code> if none
exists or <code class="xref py py-class docutils literal"><span class="pre">ValueError</span></code> if the version number is invalid
(i.e. not semantic).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Version of the workflow (not Alfred-Workflow)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#workflow.update.Version" title="workflow.update.Version"><code class="xref py py-class docutils literal"><span class="pre">Version</span></code></a> object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow.workflowdir">
<code class="descname">workflowdir</code><a class="headerlink" href="#workflow.Workflow.workflowdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to workflow&#8217;s root directory (where <code class="docutils literal"><span class="pre">info.plist</span></code> is).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">full path to workflow root directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow.workflowfile">
<code class="descname">workflowfile</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow.workflowfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Return full path to <code class="docutils literal"><span class="pre">filename</span></code> in workflow&#8217;s root directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; basename of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">full path to file within data directory</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<div class="section" id="settings">
<span id="api-settings"></span><h3><a class="toc-backref" href="#id2">Settings</a><a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> and <a class="reference internal" href="#workflow.Workflow3" title="workflow.Workflow3"><code class="xref py py-class docutils literal"><span class="pre">Workflow3</span></code></a> objects each have a <a class="reference internal" href="#workflow.Workflow.settings" title="workflow.Workflow.settings"><code class="xref py py-attr docutils literal"><span class="pre">settings</span></code></a> attribute that provides a simple API for storing
workflow settings.</p>
<dl class="class">
<dt id="workflow.workflow.Settings">
<em class="property">class </em><code class="descclassname">workflow.workflow.</code><code class="descname">Settings</code><span class="sig-paren">(</span><em>filepath</em>, <em>defaults=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Settings" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary that saves itself when changed.</p>
<p>Dictionary keys &amp; values will be saved as a JSON file
at <code class="docutils literal"><span class="pre">filepath</span></code>. If the file does not exist, the dictionary
(and settings file) will be initialised with <code class="docutils literal"><span class="pre">defaults</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filepath</strong> (<code class="xref py py-class docutils literal"><span class="pre">unicode</span></code>) &#8211; where to save the settings</li>
<li><strong>defaults</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a>) &#8211; dict of default settings</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>An appropriate instance is provided by <a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> instances at
<a class="reference internal" href="#workflow.Workflow.settings" title="workflow.Workflow.settings"><code class="xref py py-attr docutils literal"><span class="pre">Workflow.settings</span></code></a>.</p>
<dl class="method">
<dt id="workflow.workflow.Settings.__delitem__">
<code class="descname">__delitem__</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Settings.__delitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement <a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a> interface.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Settings.__setitem__">
<code class="descname">__setitem__</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Settings.__setitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement <a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a> interface.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Settings.setdefault">
<code class="descname">setdefault</code><span class="sig-paren">(</span><em>key</em>, <em>value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Settings.setdefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Override <a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a> method to save on update.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Settings.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Settings.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Override <a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a> method to save on update.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="serializers">
<span id="api-serializers"></span><h3><a class="toc-backref" href="#id3">Serializers</a><a class="headerlink" href="#serializers" title="Permalink to this headline">¶</a></h3>
<p>The serialization API provided by <a class="reference internal" href="#workflow.workflow.SerializerManager" title="workflow.workflow.SerializerManager"><code class="xref py py-class docutils literal"><span class="pre">SerializerManager</span></code></a> is used by
<a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> to store saved &amp; cached data and settings.
You can register your own serializers on a manager.</p>
<p>The default manager (which supports JSON, pickle and cPickle) is at
<code class="xref py py-data docutils literal"><span class="pre">workflow.manager</span></code>.</p>
<dl class="class">
<dt id="workflow.workflow.SerializerManager">
<em class="property">class </em><code class="descclassname">workflow.workflow.</code><code class="descname">SerializerManager</code><a class="headerlink" href="#workflow.workflow.SerializerManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains registered serializers.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>A configured instance of this class is available at
<code class="xref py py-attr docutils literal"><span class="pre">workflow.manager</span></code>.</p>
<p>Use <a class="reference internal" href="#workflow.workflow.SerializerManager.register" title="workflow.workflow.SerializerManager.register"><code class="xref py py-meth docutils literal"><span class="pre">register()</span></code></a> to register new (or replace
existing) serializers, which you can specify by name when calling
<a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> data storage methods.</p>
<p>See <a class="reference internal" href="../guide/serialization.html#guide-serialization"><span>Serialization of stored/cached data</span></a> and <a class="reference internal" href="../guide/persistent-data.html#guide-persistent-data"><span>Persistent data</span></a>
for further information.</p>
<dl class="method">
<dt id="workflow.workflow.SerializerManager.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>name</em>, <em>serializer</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.SerializerManager.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register <code class="docutils literal"><span class="pre">serializer</span></code> object under <code class="docutils literal"><span class="pre">name</span></code>.</p>
<p>Raises <code class="xref py py-class docutils literal"><span class="pre">AttributeError</span></code> if <code class="docutils literal"><span class="pre">serializer</span></code> in invalid.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal"><span class="pre">name</span></code> will be used as the file extension of the saved files.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<code class="docutils literal"><span class="pre">unicode</span></code> or <code class="docutils literal"><span class="pre">str</span></code>) &#8211; Name to register <code class="docutils literal"><span class="pre">serializer</span></code> under</li>
<li><strong>serializer</strong> &#8211; object with <code class="docutils literal"><span class="pre">load()</span></code> and <code class="docutils literal"><span class="pre">dump()</span></code>
methods</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.SerializerManager.serializer">
<code class="descname">serializer</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.SerializerManager.serializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Return serializer object for <code class="docutils literal"><span class="pre">name</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<code class="docutils literal"><span class="pre">unicode</span></code> or <code class="docutils literal"><span class="pre">str</span></code>) &#8211; Name of serializer to return</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">serializer object or <code class="docutils literal"><span class="pre">None</span></code> if no such serializer
is registered.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.SerializerManager.serializers">
<code class="descname">serializers</code><a class="headerlink" href="#workflow.workflow.SerializerManager.serializers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return names of registered serializers.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.SerializerManager.unregister">
<code class="descname">unregister</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.SerializerManager.unregister" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove registered serializer with <code class="docutils literal"><span class="pre">name</span></code>.</p>
<p>Raises a <code class="xref py py-class docutils literal"><span class="pre">ValueError</span></code> if there is no such registered
serializer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<code class="docutils literal"><span class="pre">unicode</span></code> or <code class="docutils literal"><span class="pre">str</span></code>) &#8211; Name of serializer to remove</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">serializer object</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="workflow.workflow.JSONSerializer">
<em class="property">class </em><code class="descclassname">workflow.workflow.</code><code class="descname">JSONSerializer</code><a class="headerlink" href="#workflow.workflow.JSONSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around <a class="reference external" href="http://docs.python.org/2.7/library/json.html#module-json" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">json</span></code></a>. Sets <code class="docutils literal"><span class="pre">indent</span></code> and <code class="docutils literal"><span class="pre">encoding</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>Use this serializer if you need readable data files. JSON doesn&#8217;t
support Python objects as well as <code class="docutils literal"><span class="pre">cPickle</span></code>/<code class="docutils literal"><span class="pre">pickle</span></code>, so be
careful which data you try to serialize as JSON.</p>
<dl class="classmethod">
<dt id="workflow.workflow.JSONSerializer.dump">
<em class="property">classmethod </em><code class="descname">dump</code><span class="sig-paren">(</span><em>obj</em>, <em>file_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.JSONSerializer.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize object <code class="docutils literal"><span class="pre">obj</span></code> to open JSON file.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>obj</strong> (<em>JSON-serializable data structure</em>) &#8211; Python object to serialize</li>
<li><strong>file_obj</strong> (<code class="docutils literal"><span class="pre">file</span></code> object) &#8211; file handle</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="workflow.workflow.JSONSerializer.load">
<em class="property">classmethod </em><code class="descname">load</code><span class="sig-paren">(</span><em>file_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.JSONSerializer.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load serialized object from open JSON file.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_obj</strong> (<code class="docutils literal"><span class="pre">file</span></code> object) &#8211; file handle</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">object loaded from JSON file</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)">object</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="workflow.workflow.CPickleSerializer">
<em class="property">class </em><code class="descclassname">workflow.workflow.</code><code class="descname">CPickleSerializer</code><a class="headerlink" href="#workflow.workflow.CPickleSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around <a class="reference external" href="http://docs.python.org/2.7/library/pickle.html#module-cPickle" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">cPickle</span></code></a>. Sets <code class="docutils literal"><span class="pre">protocol</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>This is the default serializer and the best combination of speed and
flexibility.</p>
<dl class="classmethod">
<dt id="workflow.workflow.CPickleSerializer.dump">
<em class="property">classmethod </em><code class="descname">dump</code><span class="sig-paren">(</span><em>obj</em>, <em>file_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.CPickleSerializer.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize object <code class="docutils literal"><span class="pre">obj</span></code> to open pickle file.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>obj</strong> (<em>Python object</em>) &#8211; Python object to serialize</li>
<li><strong>file_obj</strong> (<code class="docutils literal"><span class="pre">file</span></code> object) &#8211; file handle</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="workflow.workflow.CPickleSerializer.load">
<em class="property">classmethod </em><code class="descname">load</code><span class="sig-paren">(</span><em>file_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.CPickleSerializer.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load serialized object from open pickle file.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_obj</strong> (<code class="docutils literal"><span class="pre">file</span></code> object) &#8211; file handle</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">object loaded from pickle file</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)">object</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="workflow.workflow.PickleSerializer">
<em class="property">class </em><code class="descclassname">workflow.workflow.</code><code class="descname">PickleSerializer</code><a class="headerlink" href="#workflow.workflow.PickleSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around <a class="reference external" href="http://docs.python.org/2.7/library/pickle.html#module-pickle" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">pickle</span></code></a>. Sets <code class="docutils literal"><span class="pre">protocol</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>Use this serializer if you need to add custom pickling.</p>
<dl class="classmethod">
<dt id="workflow.workflow.PickleSerializer.dump">
<em class="property">classmethod </em><code class="descname">dump</code><span class="sig-paren">(</span><em>obj</em>, <em>file_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.PickleSerializer.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize object <code class="docutils literal"><span class="pre">obj</span></code> to open pickle file.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>obj</strong> (<em>Python object</em>) &#8211; Python object to serialize</li>
<li><strong>file_obj</strong> (<code class="docutils literal"><span class="pre">file</span></code> object) &#8211; file handle</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="workflow.workflow.PickleSerializer.load">
<em class="property">classmethod </em><code class="descname">load</code><span class="sig-paren">(</span><em>file_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.PickleSerializer.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load serialized object from open pickle file.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_obj</strong> (<code class="docutils literal"><span class="pre">file</span></code> object) &#8211; file handle</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">object loaded from pickle file</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)">object</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="exceptions">
<span id="api-exceptions"></span><h3><a class="toc-backref" href="#id4">Exceptions</a><a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h3>
<p>Alfred-Workflow defines the following exceptions, which may be raised
by the Keychain API or <code class="xref py py-class docutils literal"><span class="pre">LockFile</span></code>.</p>
<dl class="exception">
<dt id="workflow.KeychainError">
<em class="property">exception </em><code class="descclassname">workflow.</code><code class="descname">KeychainError</code><a class="headerlink" href="#workflow.KeychainError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised for unknown Keychain errors.</p>
<p>Raised by methods <a class="reference internal" href="#workflow.Workflow.save_password" title="workflow.Workflow.save_password"><code class="xref py py-meth docutils literal"><span class="pre">Workflow.save_password()</span></code></a>,
<a class="reference internal" href="#workflow.Workflow.get_password" title="workflow.Workflow.get_password"><code class="xref py py-meth docutils literal"><span class="pre">Workflow.get_password()</span></code></a> and <a class="reference internal" href="#workflow.Workflow.delete_password" title="workflow.Workflow.delete_password"><code class="xref py py-meth docutils literal"><span class="pre">Workflow.delete_password()</span></code></a>
when <code class="docutils literal"><span class="pre">security</span></code> CLI app returns an unknown error code.</p>
</dd></dl>

<dl class="exception">
<dt id="workflow.PasswordNotFound">
<em class="property">exception </em><code class="descclassname">workflow.</code><code class="descname">PasswordNotFound</code><a class="headerlink" href="#workflow.PasswordNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Password not in Keychain.</p>
<p>Raised by method <a class="reference internal" href="#workflow.Workflow.get_password" title="workflow.Workflow.get_password"><code class="xref py py-meth docutils literal"><span class="pre">Workflow.get_password()</span></code></a> when <code class="docutils literal"><span class="pre">account</span></code>
is unknown to the Keychain.</p>
</dd></dl>

<dl class="exception">
<dt id="workflow.workflow.PasswordExists">
<em class="property">exception </em><code class="descclassname">workflow.workflow.</code><code class="descname">PasswordExists</code><a class="headerlink" href="#workflow.workflow.PasswordExists" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when trying to overwrite an existing account password.</p>
<p>You should never receive this error: it is used internally
by the <a class="reference internal" href="#workflow.Workflow.save_password" title="workflow.Workflow.save_password"><code class="xref py py-meth docutils literal"><span class="pre">Workflow.save_password()</span></code></a> method to know if it needs
to delete the old password first (a Keychain implementation detail).</p>
</dd></dl>

<dl class="exception">
<dt id="workflow.workflow.AcquisitionError">
<em class="property">exception </em><code class="descclassname">workflow.workflow.</code><code class="descname">AcquisitionError</code><a class="headerlink" href="#workflow.workflow.AcquisitionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if a lock cannot be acquired.</p>
</dd></dl>

</div>
<div class="section" id="utilities-helpers">
<span id="api-helpers"></span><h3><a class="toc-backref" href="#id5">Utilities &amp; helpers</a><a class="headerlink" href="#utilities-helpers" title="Permalink to this headline">¶</a></h3>
<p>These utility objects and functions are used internally by Alfred-Workflow,
but may also be useful in your workflow.</p>
<dl class="class">
<dt id="workflow.workflow.LockFile">
<em class="property">class </em><code class="descclassname">workflow.workflow.</code><code class="descname">LockFile</code><span class="sig-paren">(</span><em>protected_path</em>, <em>timeout=0</em>, <em>delay=0.05</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.LockFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager to protect filepaths with lockfiles.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.13.</span></p>
</div>
<p>Creates a lockfile alongside <code class="docutils literal"><span class="pre">protected_path</span></code>. Other <code class="docutils literal"><span class="pre">LockFile</span></code>
instances will refuse to lock the same path.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;/path/to/file&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">LockFile</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>protected_path</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; File to protect with a lockfile</li>
<li><strong>timeout</strong> (<em>int, optional</em>) &#8211; Raises an <a class="reference internal" href="#workflow.workflow.AcquisitionError" title="workflow.workflow.AcquisitionError"><code class="xref py py-class docutils literal"><span class="pre">AcquisitionError</span></code></a>
if lock cannot be acquired within this number of seconds.
If <code class="docutils literal"><span class="pre">timeout</span></code> is 0 (the default), wait forever.</li>
<li><strong>delay</strong> (<em>float, optional</em>) &#8211; How often to check (in seconds) if
lock has been released.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="workflow.workflow.LockFile.__del__">
<code class="descname">__del__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.LockFile.__del__" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear up <cite>self.lockfile</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.LockFile.__enter__">
<code class="descname">__enter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.LockFile.__enter__" title="Permalink to this definition">¶</a></dt>
<dd><p>Acquire lock.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.LockFile.__exit__">
<code class="descname">__exit__</code><span class="sig-paren">(</span><em>typ</em>, <em>value</em>, <em>traceback</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.LockFile.__exit__" title="Permalink to this definition">¶</a></dt>
<dd><p>Release lock.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.LockFile.acquire">
<code class="descname">acquire</code><span class="sig-paren">(</span><em>blocking=True</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.LockFile.acquire" title="Permalink to this definition">¶</a></dt>
<dd><p>Acquire the lock if possible.</p>
<p>If the lock is in use and <code class="docutils literal"><span class="pre">blocking</span></code> is <code class="docutils literal"><span class="pre">False</span></code>, return
<code class="docutils literal"><span class="pre">False</span></code>.</p>
<p>Otherwise, check every <cite>self.delay</cite> seconds until it acquires
lock or exceeds <cite>self.timeout</cite> and raises an <cite>~AcquisitionError</cite>.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.LockFile.locked">
<code class="descname">locked</code><a class="headerlink" href="#workflow.workflow.LockFile.locked" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>True</cite> if file is locked by this instance.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.LockFile.release">
<code class="descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.LockFile.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Release the lock by deleting <cite>self.lockfile</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="workflow.workflow.uninterruptible">
<em class="property">class </em><code class="descclassname">workflow.workflow.</code><code class="descname">uninterruptible</code><span class="sig-paren">(</span><em>func</em>, <em>class_name=u''</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.uninterruptible" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator that postpones SIGTERM until wrapped function returns.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.12.</span></p>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">This decorator is NOT thread-safe.</p>
</div>
<p>As of version 2.7, Alfred allows Script Filters to be killed. If
your workflow is killed in the middle of critical code (e.g.
writing data to disk), this may corrupt your workflow&#8217;s data.</p>
<p>Use this decorator to wrap critical functions that <em>must</em> complete.
If the script is killed while a wrapped function is executing,
the SIGTERM will be caught and handled after your function has
finished executing.</p>
<p>Alfred-Workflow uses this internally to ensure its settings, data
and cache writes complete.</p>
<dl class="method">
<dt id="workflow.workflow.uninterruptible.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.uninterruptible.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Trap <code class="docutils literal"><span class="pre">SIGTERM</span></code> and call wrapped function.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.uninterruptible.__get__">
<code class="descname">__get__</code><span class="sig-paren">(</span><em>obj=None</em>, <em>klass=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.uninterruptible.__get__" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator API.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.uninterruptible.signal_handler">
<code class="descname">signal_handler</code><span class="sig-paren">(</span><em>signum</em>, <em>frame</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.uninterruptible.signal_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when process receives SIGTERM.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="workflow.workflow.atomic_writer">
<code class="descclassname">workflow.workflow.</code><code class="descname">atomic_writer</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.atomic_writer" title="Permalink to this definition">¶</a></dt>
<dd><p>Atomic file writer.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.12.</span></p>
</div>
<p>Context manager that ensures the file is only written if the write
succeeds. The data is first written to a temporary file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_path</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; path of file to write to.</li>
<li><strong>mode</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; sames as for <a class="reference external" href="http://docs.python.org/2.7/library/functions.html#open" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">open()</span></code></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-workflow.workflow3">
<span id="workflow3-objects"></span><span id="api-workflow3"></span><h2><a class="toc-backref" href="#id6">Workflow3 objects</a><a class="headerlink" href="#module-workflow.workflow3" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.18.</span></p>
</div>
<p><a class="reference internal" href="#workflow.Workflow3" title="workflow.Workflow3"><code class="xref py py-class docutils literal"><span class="pre">Workflow3</span></code></a> is an Alfred 3-only version of
<a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> that supports Alfred 3&#8217;s new features.</p>
<p>It supports setting <a class="reference internal" href="../guide/workflow-variables.html#workflow-variables"><span>Workflow variables</span></a> and
<a class="reference internal" href="#workflow.workflow3.Modifier" title="workflow.workflow3.Modifier"><code class="xref py py-class docutils literal"><span class="pre">the</span> <span class="pre">more</span> <span class="pre">advanced</span> <span class="pre">modifiers</span></code></a> supported by Alfred 3.</p>
<p>In order for the feedback mechanism to work correctly, it&#8217;s important
to create <a class="reference internal" href="#workflow.workflow3.Item3" title="workflow.workflow3.Item3"><code class="xref py py-class docutils literal"><span class="pre">Item3</span></code></a> and <a class="reference internal" href="#workflow.workflow3.Modifier" title="workflow.workflow3.Modifier"><code class="xref py py-class docutils literal"><span class="pre">Modifier</span></code></a> objects via the
<code class="xref py py-meth docutils literal"><span class="pre">Workflow3.add_item()</span></code> and <a class="reference internal" href="#workflow.workflow3.Item3.add_modifier" title="workflow.workflow3.Item3.add_modifier"><code class="xref py py-meth docutils literal"><span class="pre">Item3.add_modifier()</span></code></a> methods
respectively. If you instantiate <a class="reference internal" href="#workflow.workflow3.Item3" title="workflow.workflow3.Item3"><code class="xref py py-class docutils literal"><span class="pre">Item3</span></code></a> or <a class="reference internal" href="#workflow.workflow3.Modifier" title="workflow.workflow3.Modifier"><code class="xref py py-class docutils literal"><span class="pre">Modifier</span></code></a>
objects directly, the current <code class="xref py py-class docutils literal"><span class="pre">Workflow3</span></code> object won&#8217;t be aware
of them, and they won&#8217;t be sent to Alfred when you call
<code class="xref py py-meth docutils literal"><span class="pre">Workflow3.send_feedback()</span></code>.</p>
<dl class="class">
<dt id="workflow.Workflow3">
<em class="property">class </em><code class="descclassname">workflow.</code><code class="descname">Workflow3</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow3" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow class that generates Alfred 3 feedback.</p>
<p><code class="docutils literal"><span class="pre">Workflow3</span></code> is a subclass of <a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> and
most of its methods are documented there.</p>
<dl class="attribute">
<dt id="workflow.workflow3.Workflow3.item_class">
<code class="descname">item_class</code><a class="headerlink" href="#workflow.workflow3.Workflow3.item_class" title="Permalink to this definition">¶</a></dt>
<dd><p><em>class</em></p>
<p>Class used to generate feedback items.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow3.Workflow3.variables">
<code class="descname">variables</code><a class="headerlink" href="#workflow.workflow3.Workflow3.variables" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em></p>
<p>Top level workflow variables.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow3.add_item">
<code class="descname">add_item</code><span class="sig-paren">(</span><em>title</em>, <em>subtitle=u''</em>, <em>arg=None</em>, <em>autocomplete=None</em>, <em>valid=False</em>, <em>uid=None</em>, <em>icon=None</em>, <em>icontype=None</em>, <em>type=None</em>, <em>largetext=None</em>, <em>copytext=None</em>, <em>quicklookurl=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow3.add_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an item to be output to Alfred.</p>
<p>See <code class="xref py py-meth docutils literal"><span class="pre">add_item()</span></code> for the main
documentation.</p>
<p>The key difference is that this method does not support the
<code class="docutils literal"><span class="pre">modifier_subtitles</span></code> argument. Use the <a class="reference internal" href="#workflow.workflow3.Item3.add_modifier" title="workflow.workflow3.Item3.add_modifier"><code class="xref py py-meth docutils literal"><span class="pre">add_modifier()</span></code></a>
method instead on the returned item instead.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Alfred feedback item.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#workflow.workflow3.Item3" title="workflow.workflow3.Item3">Item3</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow3.cache_data">
<code class="descname">cache_data</code><span class="sig-paren">(</span><em>name</em>, <em>data</em>, <em>session=False</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow3.cache_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Cache API with session-scoped expiry.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.25.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Cache key</li>
<li><strong>data</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a>) &#8211; Data to cache</li>
<li><strong>session</strong> (<em>bool, optional</em>) &#8211; Whether to scope the cache
to the current session.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><code class="docutils literal"><span class="pre">name</span></code> and <code class="docutils literal"><span class="pre">data</span></code> are as for the
<code class="xref py py-meth docutils literal"><span class="pre">cache_data()</span></code> on
<code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code>.</p>
<p>If <code class="docutils literal"><span class="pre">session</span></code> is <code class="docutils literal"><span class="pre">True</span></code>, the <code class="docutils literal"><span class="pre">name</span></code> variable is prefixed
with <code class="xref py py-attr docutils literal"><span class="pre">session_id</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow3.cached_data">
<code class="descname">cached_data</code><span class="sig-paren">(</span><em>name</em>, <em>data_func=None</em>, <em>max_age=60</em>, <em>session=False</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow3.cached_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Cache API with session-scoped expiry.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.25.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Cache key</li>
<li><strong>data_func</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#callable" title="(in Python v2.7)"><em>callable</em></a>) &#8211; Callable that returns fresh data. It
is called if the cache has expired or doesn&#8217;t exist.</li>
<li><strong>max_age</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Maximum allowable age of cache in seconds.</li>
<li><strong>session</strong> (<em>bool, optional</em>) &#8211; Whether to scope the cache
to the current session.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">data_func</span></code> and <code class="docutils literal"><span class="pre">max_age</span></code> are as for the
<code class="xref py py-meth docutils literal"><span class="pre">cached_data()</span></code> on
<code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code>.</p>
<p>If <code class="docutils literal"><span class="pre">session</span></code> is <code class="docutils literal"><span class="pre">True</span></code>, the <code class="docutils literal"><span class="pre">name</span></code> variable is prefixed
with <code class="xref py py-attr docutils literal"><span class="pre">session_id</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow3.clear_session_cache">
<code class="descname">clear_session_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow3.clear_session_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove <em>all</em> session data from the cache.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.25.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow3.getvar">
<code class="descname">getvar</code><span class="sig-paren">(</span><em>name</em>, <em>default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow3.getvar" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value of workflow variable for <code class="docutils literal"><span class="pre">name</span></code> or <code class="docutils literal"><span class="pre">default</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; Variable name.</li>
<li><strong>default</strong> (<em>None, optional</em>) &#8211; Value to return if variable is unset.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">unicode or <code class="docutils literal"><span class="pre">default</span></code>: Value of variable if set or <code class="docutils literal"><span class="pre">default</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow3.item_class">
<code class="descname">item_class</code><a class="headerlink" href="#workflow.Workflow3.item_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#workflow.workflow3.Item3" title="workflow.workflow3.Item3"><code class="xref py py-class docutils literal"><span class="pre">Item3</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow3.obj">
<code class="descname">obj</code><a class="headerlink" href="#workflow.Workflow3.obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Feedback formatted for JSON serialization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Data suitable for Alfred 3 feedback.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow3.rerun">
<code class="descname">rerun</code><a class="headerlink" href="#workflow.Workflow3.rerun" title="Permalink to this definition">¶</a></dt>
<dd><p>How often (in seconds) Alfred should re-run the Script Filter.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow3.send_feedback">
<code class="descname">send_feedback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow3.send_feedback" title="Permalink to this definition">¶</a></dt>
<dd><p>Print stored items to console/Alfred as JSON.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.Workflow3.session_id">
<code class="descname">session_id</code><a class="headerlink" href="#workflow.Workflow3.session_id" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique session ID every time the user uses the workflow.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.25.</span></p>
</div>
<p>The session ID persists while the user is using this workflow.
It expires when the user runs a different workflow or closes
Alfred.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.Workflow3.setvar">
<code class="descname">setvar</code><span class="sig-paren">(</span><em>name</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.Workflow3.setvar" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a &#8220;global&#8221; workflow variable.</p>
<p>These variables are always passed to downstream workflow objects.</p>
<p>If you have set <code class="xref py py-attr docutils literal"><span class="pre">rerun</span></code>, these variables are also passed
back to the script when Alfred runs it again.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; Name of variable.</li>
<li><strong>value</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; Value of variable.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<div class="section" id="workflow-variables">
<span id="api-variables"></span><h3><a class="toc-backref" href="#id7">Workflow variables</a><a class="headerlink" href="#workflow-variables" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.18.</span></p>
</div>
<p>Alfred 3 allows you to pass around variables in your workflows. It passes
these to your scripts as environment variables (access them with
<a class="reference external" href="http://docs.python.org/2.7/library/os.html#os.getenv" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">os.getenv()</span></code></a>), and you can pass variables back to Alfred via JSON.</p>
<p>In Script Filters, use the <code class="docutils literal"><span class="pre">setvar()</span></code> methods on <code class="xref py py-class docutils literal"><span class="pre">Workflow3</span></code>,
<a class="reference internal" href="#workflow.workflow3.Item3" title="workflow.workflow3.Item3"><code class="xref py py-class docutils literal"><span class="pre">Item3</span></code></a> and <a class="reference internal" href="#workflow.workflow3.Modifier" title="workflow.workflow3.Modifier"><code class="xref py py-class docutils literal"><span class="pre">Modifier</span></code></a>.</p>
<p>In Run Script actions, use the <a class="reference internal" href="#workflow.workflow3.Variables" title="workflow.workflow3.Variables"><code class="xref py py-class docutils literal"><span class="pre">Variables</span></code></a>.</p>
<p>See <a class="reference internal" href="../guide/workflow-variables.html#workflow-variables"><span>Workflow variables</span></a> in the User Guide for more information.</p>
<p><a class="reference internal" href="#workflow.workflow3.Item3" title="workflow.workflow3.Item3"><code class="xref py py-class docutils literal"><span class="pre">Item3</span></code></a> and <a class="reference internal" href="#workflow.workflow3.Modifier" title="workflow.workflow3.Modifier"><code class="xref py py-class docutils literal"><span class="pre">Modifier</span></code></a> are documented below, in the
<a class="reference internal" href="#api-modifiers"><span>Advanced modifiers</span></a> section.</p>
<dl class="class">
<dt id="workflow.workflow3.Variables">
<em class="property">class </em><code class="descclassname">workflow.workflow3.</code><code class="descname">Variables</code><span class="sig-paren">(</span><em>arg=None</em>, <em>**variables</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow3.Variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow variables for Run Script actions.</p>
<p>This class allows you to set workflow variables from
Run Script actions.</p>
<p>It is a subclass of <a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">Variables</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;deanishe&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;hunter2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">arg</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;output value&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="../guide/workflow-variables.html#variables-run-script"><span>Setting variables from Run Script actions</span></a> in the User Guide for more
information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>arg</strong> (<em>unicode, optional</em>) &#8211; Main output/<code class="docutils literal"><span class="pre">{query}</span></code>.</li>
<li><strong>**variables</strong> &#8211; Workflow variables to set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="workflow.workflow3.Variables.arg">
<code class="descname">arg</code><a class="headerlink" href="#workflow.workflow3.Variables.arg" title="Permalink to this definition">¶</a></dt>
<dd><p><em>unicode</em></p>
<p>Output value (<code class="docutils literal"><span class="pre">{query}</span></code>).</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow3.Variables.config">
<code class="descname">config</code><a class="headerlink" href="#workflow.workflow3.Variables.config" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em></p>
<p>Configuration for downstream workflow element.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow3.Variables.__str__">
<code class="descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow3.Variables.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to <code class="docutils literal"><span class="pre">alfredworkflow</span></code> JSON object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">UTF-8 encoded <code class="docutils literal"><span class="pre">alfredworkflow</span></code> JSON object</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow3.Variables.__unicode__">
<code class="descname">__unicode__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow3.Variables.__unicode__" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to <code class="docutils literal"><span class="pre">alfredworkflow</span></code> JSON object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">alfredworkflow</span></code> JSON object</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)">unicode</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow3.Variables.obj">
<code class="descname">obj</code><a class="headerlink" href="#workflow.workflow3.Variables.obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">alfredworkflow</span></code> <cite>dict</cite>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="advanced-modifiers">
<span id="api-modifiers"></span><h3><a class="toc-backref" href="#id8">Advanced modifiers</a><a class="headerlink" href="#advanced-modifiers" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.18.</span></p>
</div>
<p>You can specify alternate <code class="docutils literal"><span class="pre">arg</span></code>, <code class="docutils literal"><span class="pre">subtitle</span></code> and variables if a
Script Filter result is actioned while holding down a modifier key.</p>
<p>Add a modifier to an item using <a class="reference internal" href="#workflow.workflow3.Item3.add_modifier" title="workflow.workflow3.Item3.add_modifier"><code class="xref py py-meth docutils literal"><span class="pre">Item3.add_modifier()</span></code></a>, and configure
the <a class="reference internal" href="#workflow.workflow3.Modifier" title="workflow.workflow3.Modifier"><code class="xref py py-class docutils literal"><span class="pre">Modifier</span></code></a> via its attributes and <a class="reference internal" href="#workflow.workflow3.Modifier.setvar" title="workflow.workflow3.Modifier.setvar"><code class="xref py py-meth docutils literal"><span class="pre">setvar()</span></code></a>
method.</p>
<dl class="class">
<dt id="workflow.workflow3.Item3">
<em class="property">class </em><code class="descclassname">workflow.workflow3.</code><code class="descname">Item3</code><span class="sig-paren">(</span><em>title</em>, <em>subtitle=u''</em>, <em>arg=None</em>, <em>autocomplete=None</em>, <em>valid=False</em>, <em>uid=None</em>, <em>icon=None</em>, <em>icontype=None</em>, <em>type=None</em>, <em>largetext=None</em>, <em>copytext=None</em>, <em>quicklookurl=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow3.Item3" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a feedback item for Alfred 3.</p>
<p>Generates Alfred-compliant JSON for a single item.</p>
<p>You probably shouldn&#8217;t use this class directly, but via
<a class="reference internal" href="#workflow.Workflow3.add_item" title="workflow.Workflow3.add_item"><code class="xref py py-meth docutils literal"><span class="pre">Workflow3.add_item()</span></code></a>.
See <a class="reference internal" href="#workflow.Workflow3.add_item" title="workflow.Workflow3.add_item"><code class="xref py py-meth docutils literal"><span class="pre">add_item()</span></code></a> for details of arguments.</p>
<p>Arguments are the same as for
<a class="reference internal" href="#workflow.Workflow.add_item" title="workflow.Workflow.add_item"><code class="xref py py-meth docutils literal"><span class="pre">Workflow.add_item()</span></code></a>, except
<code class="docutils literal"><span class="pre">subtitle_modifiers</span></code> is not supported.</p>
<p>Use <a class="reference internal" href="#workflow.workflow3.Item3.add_modifier" title="workflow.workflow3.Item3.add_modifier"><code class="xref py py-meth docutils literal"><span class="pre">Item3.add_modifier()</span></code></a> instead.</p>
<dl class="method">
<dt id="workflow.workflow3.Item3.add_modifier">
<code class="descname">add_modifier</code><span class="sig-paren">(</span><em>key</em>, <em>subtitle=None</em>, <em>arg=None</em>, <em>valid=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow3.Item3.add_modifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Add alternative values for a modifier key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; Modifier key, e.g. <code class="docutils literal"><span class="pre">&quot;cmd&quot;</span></code> or <code class="docutils literal"><span class="pre">&quot;alt&quot;</span></code></li>
<li><strong>subtitle</strong> (<em>unicode, optional</em>) &#8211; Override item subtitle.</li>
<li><strong>arg</strong> (<em>unicode, optional</em>) &#8211; Input for following action.</li>
<li><strong>valid</strong> (<em>bool, optional</em>) &#8211; Override item validity.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Configured <a class="reference internal" href="#workflow.workflow3.Modifier" title="workflow.workflow3.Modifier"><code class="xref py py-class docutils literal"><span class="pre">Modifier</span></code></a>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#workflow.workflow3.Modifier" title="workflow.workflow3.Modifier">Modifier</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow3.Item3.getvar">
<code class="descname">getvar</code><span class="sig-paren">(</span><em>name</em>, <em>default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow3.Item3.getvar" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value of workflow variable for <code class="docutils literal"><span class="pre">name</span></code> or <code class="docutils literal"><span class="pre">default</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; Variable name.</li>
<li><strong>default</strong> (<em>None, optional</em>) &#8211; Value to return if variable is unset.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">unicode or <code class="docutils literal"><span class="pre">default</span></code>: Value of variable if set or <code class="docutils literal"><span class="pre">default</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow3.Item3.obj">
<code class="descname">obj</code><a class="headerlink" href="#workflow.workflow3.Item3.obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Item formatted for JSON serialization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Data suitable for Alfred 3 feedback.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow3.Item3.setvar">
<code class="descname">setvar</code><span class="sig-paren">(</span><em>name</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow3.Item3.setvar" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a workflow variable for this Item.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; Name of variable.</li>
<li><strong>value</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; Value of variable.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="workflow.workflow3.Modifier">
<em class="property">class </em><code class="descclassname">workflow.workflow3.</code><code class="descname">Modifier</code><span class="sig-paren">(</span><em>key</em>, <em>subtitle=None</em>, <em>arg=None</em>, <em>valid=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow3.Modifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify <code class="docutils literal"><span class="pre">Item3</span></code> arg and variables when modifier keys are pressed.</p>
<p>You probably don&#8217;t want to use this class directly, but rather
use <a class="reference internal" href="#workflow.workflow3.Item3.add_modifier" title="workflow.workflow3.Item3.add_modifier"><code class="xref py py-meth docutils literal"><span class="pre">Item3.add_modifier()</span></code></a> to add modifiers to results.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">it</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s1">&#39;Title&#39;</span><span class="p">,</span> <span class="s1">&#39;Subtitle&#39;</span><span class="p">,</span> <span class="n">valid</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">it</span><span class="o">.</span><span class="n">setvar</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">add_modifier</span><span class="p">(</span><span class="s1">&#39;cmd&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">setvar</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;alternate&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="../guide/workflow-variables.html#workflow-variables"><span>Workflow variables</span></a> in the User Guide for more information
and <a class="reference internal" href="../guide/workflow-variables.html#example-variables"><span>example usage</span></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; Modifier key, e.g. <code class="docutils literal"><span class="pre">&quot;cmd&quot;</span></code>, <code class="docutils literal"><span class="pre">&quot;alt&quot;</span></code> etc.
Valid modifiers (i.e. values for <code class="docutils literal"><span class="pre">key</span></code>) are:
<code class="docutils literal"><span class="pre">cmd</span></code>, <code class="docutils literal"><span class="pre">alt</span></code>, <code class="docutils literal"><span class="pre">shift</span></code>, <code class="docutils literal"><span class="pre">ctrl</span></code>, <code class="docutils literal"><span class="pre">fn</span></code>.</li>
<li><strong>subtitle</strong> (<em>unicode, optional</em>) &#8211; Override default subtitle.</li>
<li><strong>arg</strong> (<em>unicode, optional</em>) &#8211; Argument to pass for this modifier.</li>
<li><strong>valid</strong> (<em>bool, optional</em>) &#8211; Override item&#8217;s validity.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="workflow.workflow3.Modifier.arg">
<code class="descname">arg</code><a class="headerlink" href="#workflow.workflow3.Modifier.arg" title="Permalink to this definition">¶</a></dt>
<dd><p><em>unicode</em></p>
<p>Arg to pass to following action.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow3.Modifier.key">
<code class="descname">key</code><a class="headerlink" href="#workflow.workflow3.Modifier.key" title="Permalink to this definition">¶</a></dt>
<dd><p><em>unicode</em></p>
<p>Modifier key (see above).</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow3.Modifier.subtitle">
<code class="descname">subtitle</code><a class="headerlink" href="#workflow.workflow3.Modifier.subtitle" title="Permalink to this definition">¶</a></dt>
<dd><p><em>unicode</em></p>
<p>Override item subtitle.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow3.Modifier.valid">
<code class="descname">valid</code><a class="headerlink" href="#workflow.workflow3.Modifier.valid" title="Permalink to this definition">¶</a></dt>
<dd><p><em>bool</em></p>
<p>Override item validity.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow3.Modifier.variables">
<code class="descname">variables</code><a class="headerlink" href="#workflow.workflow3.Modifier.variables" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em></p>
<p>Workflow variables set by this modifier.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow3.Modifier.getvar">
<code class="descname">getvar</code><span class="sig-paren">(</span><em>name</em>, <em>default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow3.Modifier.getvar" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value of workflow variable for <code class="docutils literal"><span class="pre">name</span></code> or <code class="docutils literal"><span class="pre">default</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; Variable name.</li>
<li><strong>default</strong> (<em>None, optional</em>) &#8211; Value to return if variable is unset.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">unicode or <code class="docutils literal"><span class="pre">default</span></code>: Value of variable if set or <code class="docutils literal"><span class="pre">default</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow3.Modifier.obj">
<code class="descname">obj</code><a class="headerlink" href="#workflow.workflow3.Modifier.obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifier formatted for JSON serialization for Alfred 3.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Modifier for serializing to JSON.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow3.Modifier.setvar">
<code class="descname">setvar</code><span class="sig-paren">(</span><em>name</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow3.Modifier.setvar" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a workflow variable for this Item.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; Name of variable.</li>
<li><strong>value</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; Value of variable.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-workflow.background">
<span id="background-processes"></span><span id="api-background"></span><h2><a class="toc-backref" href="#id9">Background processes</a><a class="headerlink" href="#module-workflow.background" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.4.</span></p>
</div>
<p>As Alfred may try to run your workflow on every keypress, it&#8217;s a good idea
to execute longer-running tasks (e.g. fetching data from the a webservice
or application) in a background process.</p>
<p>This module provides an API to run commands in background processes.
Combine with the <a class="reference internal" href="../guide/persistent-data.html#caching-data"><span>caching API</span></a> to work from cached data
while you fetch fresh data in the background.</p>
<p>See <a class="reference internal" href="../guide/background.html#background-processes"><span>the User Manual</span></a> for more information
and examples.</p>
<dl class="function">
<dt id="workflow.background.run_in_background">
<code class="descclassname">workflow.background.</code><code class="descname">run_in_background</code><span class="sig-paren">(</span><em>name</em>, <em>args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.background.run_in_background" title="Permalink to this definition">¶</a></dt>
<dd><p>Cache arguments then call this script again via <a class="reference external" href="http://docs.python.org/2.7/library/subprocess.html#subprocess.call" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">subprocess.call()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; name of task</li>
<li><strong>args</strong> &#8211; arguments passed as first argument to <a class="reference external" href="http://docs.python.org/2.7/library/subprocess.html#subprocess.call" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">subprocess.call()</span></code></a></li>
<li><strong>**kwargs</strong> &#8211; keyword arguments to <a class="reference external" href="http://docs.python.org/2.7/library/subprocess.html#subprocess.call" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">subprocess.call()</span></code></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">exit code of sub-process</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</td>
</tr>
</tbody>
</table>
<p>When you call this function, it caches its arguments and then calls
<code class="docutils literal"><span class="pre">background.py</span></code> in a subprocess. The Python subprocess will load the
cached arguments, fork into the background, and then run the command you
specified.</p>
<p>This function will return as soon as the <code class="docutils literal"><span class="pre">background.py</span></code> subprocess has
forked, returning the exit code of <em>that</em> process (i.e. not of the command
you&#8217;re trying to run).</p>
<p>If that process fails, an error will be written to the log file.</p>
<p>If a process is already running under the same name, this function will
return immediately and will not run the specified command.</p>
</dd></dl>

<dl class="function">
<dt id="workflow.background.is_running">
<code class="descclassname">workflow.background.</code><code class="descname">is_running</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.background.is_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether task <code class="docutils literal"><span class="pre">name</span></code> is currently running.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; name of task</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">True</span></code> if task with name <code class="docutils literal"><span class="pre">name</span></code> is running, else <code class="docutils literal"><span class="pre">False</span></code></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-workflow.web">
<span id="http-requests"></span><span id="api-web"></span><h2><a class="toc-backref" href="#id10">HTTP requests</a><a class="headerlink" href="#module-workflow.web" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="#module-workflow.web" title="workflow.web"><code class="xref py py-mod docutils literal"><span class="pre">workflow.web</span></code></a> provides a simple API for retrieving data from the Web
modelled on the excellent <a class="reference external" href="http://docs.python-requests.org/en/latest/">requests</a> library.</p>
<p>The purpose of <a class="reference internal" href="#module-workflow.web" title="workflow.web"><code class="xref py py-mod docutils literal"><span class="pre">workflow.web</span></code></a> is to cover trivial cases at just 0.5% of
the size of <a class="reference external" href="http://docs.python-requests.org/en/latest/">requests</a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>As <a class="reference internal" href="#module-workflow.web" title="workflow.web"><code class="xref py py-mod docutils literal"><span class="pre">workflow.web</span></code></a> is based on Python 2&#8217;s standard HTTP libraries,
it <strong>does not</strong> verify SSL certificates when establishing HTTPS
connections on Python versions older than 2.7.9 (i.e. pre-Yosemite).</p>
<p class="last">As a result, you <strong>must not</strong> use this module for sensitive
connections unless you&#8217;re certain it will only run on 2.7.9/Yosemite
and later. If your workflow is Alfred 3-only, this requirement is met.</p>
</div>
<dl class="function">
<dt id="workflow.web.get">
<code class="descclassname">workflow.web.</code><code class="descname">get</code><span class="sig-paren">(</span><em>url</em>, <em>params=None</em>, <em>headers=None</em>, <em>cookies=None</em>, <em>auth=None</em>, <em>timeout=60</em>, <em>allow_redirects=True</em>, <em>stream=False</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.web.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate a GET request. Arguments as for <a class="reference internal" href="#workflow.web.request" title="workflow.web.request"><code class="xref py py-func docutils literal"><span class="pre">request()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="#workflow.web.Response" title="workflow.web.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="workflow.web.post">
<code class="descclassname">workflow.web.</code><code class="descname">post</code><span class="sig-paren">(</span><em>url</em>, <em>params=None</em>, <em>data=None</em>, <em>headers=None</em>, <em>cookies=None</em>, <em>files=None</em>, <em>auth=None</em>, <em>timeout=60</em>, <em>allow_redirects=False</em>, <em>stream=False</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.web.post" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate a POST request. Arguments as for <a class="reference internal" href="#workflow.web.request" title="workflow.web.request"><code class="xref py py-func docutils literal"><span class="pre">request()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="#workflow.web.Response" title="workflow.web.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="workflow.web.request">
<code class="descclassname">workflow.web.</code><code class="descname">request</code><span class="sig-paren">(</span><em>method</em>, <em>url</em>, <em>params=None</em>, <em>data=None</em>, <em>headers=None</em>, <em>cookies=None</em>, <em>files=None</em>, <em>auth=None</em>, <em>timeout=60</em>, <em>allow_redirects=False</em>, <em>stream=False</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.web.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate an HTTP(S) request. Returns <a class="reference internal" href="#workflow.web.Response" title="workflow.web.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; &#8216;GET&#8217; or &#8216;POST&#8217;</li>
<li><strong>url</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; URL to open</li>
<li><strong>params</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; mapping of URL parameters</li>
<li><strong>data</strong> (<em>dict or str</em>) &#8211; mapping of form data <code class="docutils literal"><span class="pre">{'field_name':</span> <span class="pre">'value'}</span></code> or
<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">str</span></code></a></li>
<li><strong>headers</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; HTTP headers</li>
<li><strong>cookies</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; cookies to send to server</li>
<li><strong>files</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; files to upload (see below).</li>
<li><strong>auth</strong> (<a class="reference internal" href="#workflow.update.Version.tuple" title="workflow.update.Version.tuple"><em>tuple</em></a>) &#8211; username, password</li>
<li><strong>timeout</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; connection timeout limit in seconds</li>
<li><strong>allow_redirects</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; follow redirections</li>
<li><strong>stream</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Stream content instead of fetching it all at once.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Response object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#workflow.web.Response" title="workflow.web.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">files</span></code> argument is a dictionary:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;fieldname&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="s1">&#39;blah.txt&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;binary data&gt;&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;mimetype&#39;</span><span class="p">:</span> <span class="s1">&#39;text/plain&#39;</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">fieldname</span></code> is the name of the field in the HTML form.</li>
<li><code class="docutils literal"><span class="pre">mimetype</span></code> is optional. If not provided, <a class="reference external" href="http://docs.python.org/2.7/library/mimetypes.html#module-mimetypes" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">mimetypes</span></code></a> will
be used to guess the mimetype, or <code class="docutils literal"><span class="pre">application/octet-stream</span></code>
will be used.</li>
</ul>
</dd></dl>

<div class="section" id="response-objects">
<h3><a class="toc-backref" href="#id11">Response objects</a><a class="headerlink" href="#response-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="workflow.web.Response">
<em class="property">class </em><code class="descclassname">workflow.web.</code><code class="descname">Response</code><span class="sig-paren">(</span><em>request</em>, <em>stream=False</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.web.Response" title="Permalink to this definition">¶</a></dt>
<dd><p>Returned by <a class="reference internal" href="#workflow.web.request" title="workflow.web.request"><code class="xref py py-func docutils literal"><span class="pre">request()</span></code></a> / <a class="reference internal" href="#workflow.web.get" title="workflow.web.get"><code class="xref py py-func docutils literal"><span class="pre">get()</span></code></a> / <a class="reference internal" href="#workflow.web.post" title="workflow.web.post"><code class="xref py py-func docutils literal"><span class="pre">post()</span></code></a> functions.</p>
<p>Simplified version of the <code class="docutils literal"><span class="pre">Response</span></code> object in the <code class="docutils literal"><span class="pre">requests</span></code> library.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">request</span><span class="p">(</span><span class="s1">&#39;http://www.google.com&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">ISO-8859-1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">content</span>  <span class="c1"># bytes</span>
<span class="go">&lt;html&gt; ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">text</span>  <span class="c1"># unicode, decoded according to charset in HTTP header/meta tag</span>
<span class="go">u&#39;&lt;html&gt; ...&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>  <span class="c1"># content parsed as JSON</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="workflow.web.Response.content">
<code class="descname">content</code><a class="headerlink" href="#workflow.web.Response.content" title="Permalink to this definition">¶</a></dt>
<dd><p>Raw content of response (i.e. bytes).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Body of HTTP response</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.web.Response.encoding">
<code class="descname">encoding</code><a class="headerlink" href="#workflow.web.Response.encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Text encoding of document or <code class="docutils literal"><span class="pre">None</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Text encoding if found.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str or <code class="docutils literal"><span class="pre">None</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.web.Response.iter_content">
<code class="descname">iter_content</code><span class="sig-paren">(</span><em>chunk_size=4096</em>, <em>decode_unicode=False</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.web.Response.iter_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over response data.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.6.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>chunk_size</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of bytes to read into memory</li>
<li><strong>decode_unicode</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Decode to Unicode using detected encoding</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">iterator</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.web.Response.json">
<code class="descname">json</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.web.Response.json" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode response contents as JSON.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">object decoded from JSON</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list, dict or unicode</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.web.Response.raise_for_status">
<code class="descname">raise_for_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.web.Response.raise_for_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise stored error if one occurred.</p>
<p>error will be instance of <a class="reference external" href="http://docs.python.org/2.7/library/urllib2.html#urllib2.HTTPError" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">urllib2.HTTPError</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="workflow.web.Response.save_to_path">
<code class="descname">save_to_path</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.web.Response.save_to_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Save retrieved data to file at <code class="docutils literal"><span class="pre">filepath</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filepath</strong> &#8211; Path to save retrieved data.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.web.Response.stream">
<code class="descname">stream</code><a class="headerlink" href="#workflow.web.Response.stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether response is streamed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>True</cite> if response is streamed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.web.Response.text">
<code class="descname">text</code><a class="headerlink" href="#workflow.web.Response.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Unicode-decoded content of response body.</p>
<p>If no encoding can be determined from HTTP headers or the content
itself, the encoded response body will be returned instead.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Body of HTTP response</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">unicode or str</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-workflow.update">
<span id="workflow-updates"></span><span id="api-updates"></span><h2><a class="toc-backref" href="#id12">Workflow updates</a><a class="headerlink" href="#module-workflow.update" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.</span></p>
</div>
<p>Add self-updating capabilities to your workflow. It regularly (every day
by default) fetches the latest releases from the specified GitHub repository.</p>
<p>Currently, only updates from <a class="reference external" href="https://help.github.com/categories/85/articles">GitHub releases</a> are supported.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Alfred-Workflow will check for updates, but will neither install them
nor notify the user that an update is available.</p>
</div>
<p>Normally, you would not use <a class="reference internal" href="#module-workflow.update" title="workflow.update"><code class="xref py py-mod docutils literal"><span class="pre">workflow.update</span></code></a> directly, but use the
corresponding methods on <a class="reference internal" href="#workflow.Workflow" title="workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> and
<a class="reference internal" href="#workflow.Workflow3" title="workflow.Workflow3"><code class="xref py py-class docutils literal"><span class="pre">Workflow3</span></code></a>.</p>
<p>Please see <a class="reference internal" href="../guide/update.html#guide-updates"><span>Self-updating</span></a> in the <a class="reference internal" href="../guide/index.html#user-manual"><span>User Guide</span></a> for information
on how to enable automatic updates in your workflow.</p>
<dl class="function">
<dt id="workflow.update.check_update">
<code class="descclassname">workflow.update.</code><code class="descname">check_update</code><span class="sig-paren">(</span><em>github_slug</em>, <em>current_version</em>, <em>prereleases=False</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.update.check_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a newer release is available on GitHub.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>github_slug</strong> &#8211; <code class="docutils literal"><span class="pre">username/repo</span></code> for workflow&#8217;s GitHub repo</li>
<li><strong>current_version</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; the currently installed version of the
workflow. <a class="reference internal" href="../guide/versioning.html#semver"><span>Semantic versioning</span></a> is required.</li>
<li><strong>prereleases</strong> &#8211; Whether to include pre-releases.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">True</span></code> if an update is available, else <code class="docutils literal"><span class="pre">False</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>If an update is available, its version number and download URL will
be cached.</p>
</dd></dl>

<dl class="function">
<dt id="workflow.update.install_update">
<code class="descclassname">workflow.update.</code><code class="descname">install_update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.update.install_update" title="Permalink to this definition">¶</a></dt>
<dd><p>If a newer release is available, download and install it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">True</span></code> if an update is installed, else <code class="docutils literal"><span class="pre">False</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="helpers">
<h3><a class="toc-backref" href="#id13">Helpers</a><a class="headerlink" href="#helpers" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="workflow.update.Version">
<em class="property">class </em><code class="descclassname">workflow.update.</code><code class="descname">Version</code><span class="sig-paren">(</span><em>vstr</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.update.Version" title="Permalink to this definition">¶</a></dt>
<dd><p>Mostly semantic versioning.</p>
<p>The main difference to proper <a class="reference internal" href="../guide/versioning.html#semver"><span>semantic versioning</span></a>
is that this implementation doesn&#8217;t require a minor or patch version.</p>
<p>Version strings may also be prefixed with &#8220;v&#8221;, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">Version</span><span class="p">(</span><span class="s1">&#39;v1.1.1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">tuple</span>
<span class="go">(1, 1, 1, &#39;&#39;)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">Version</span><span class="p">(</span><span class="s1">&#39;2.0&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">tuple</span>
<span class="go">(2, 0, 0, &#39;&#39;)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Version</span><span class="p">(</span><span class="s1">&#39;3.1-beta&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tuple</span>
<span class="go">(3, 1, 0, &#39;beta&#39;)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Version</span><span class="p">(</span><span class="s1">&#39;1.0.1&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">Version</span><span class="p">(</span><span class="s1">&#39;0.0.1&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="method">
<dt id="workflow.update.Version.__eq__">
<code class="descname">__eq__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.update.Version.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement comparison.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.update.Version.__ge__">
<code class="descname">__ge__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.update.Version.__ge__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement comparison.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.update.Version.__gt__">
<code class="descname">__gt__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.update.Version.__gt__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement comparison.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.update.Version.__le__">
<code class="descname">__le__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.update.Version.__le__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement comparison.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.update.Version.__lt__">
<code class="descname">__lt__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.update.Version.__lt__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement comparison.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.update.Version.__ne__">
<code class="descname">__ne__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.update.Version.__ne__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement comparison.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.update.Version.__repr__">
<code class="descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.update.Version.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return &#8216;code&#8217; representation of <cite>Version</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.update.Version.__str__">
<code class="descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.update.Version.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return semantic version string.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.update.Version.match_version">
<code class="descname">match_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.update.Version.match_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Match version and pre-release/build information in version strings</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.update.Version.tuple">
<code class="descname">tuple</code><a class="headerlink" href="#workflow.update.Version.tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Version number as a tuple of major, minor, patch, pre-release.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="workflow.update.download_workflow">
<code class="descclassname">workflow.update.</code><code class="descname">download_workflow</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.update.download_workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Download workflow at <code class="docutils literal"><span class="pre">url</span></code> to a local temporary file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>url</strong> &#8211; URL to .alfredworkflow file in GitHub repo</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">path to downloaded file</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-workflow.notify">
<span id="notifications"></span><span id="api-notify"></span><h2><a class="toc-backref" href="#id14">Notifications</a><a class="headerlink" href="#module-workflow.notify" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.15.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Notifications aren&#8217;t available in version of macOS older than
10.8/Mountain Lion. Calling <a class="reference internal" href="#workflow.notify.notify" title="workflow.notify.notify"><code class="xref py py-func docutils literal"><span class="pre">notify()</span></code></a> on these systems will
silently do nothing.</p>
</div>
<p><a class="reference internal" href="#module-workflow.notify" title="workflow.notify"><code class="xref py py-mod docutils literal"><span class="pre">notify</span></code></a> allows you to post notifications via macOS&#8217;s
Notification Center at any time, not just at the end of your script.
Furthermore, it uses your workflow&#8217;s icon, not Alfred&#8217;s.</p>
<p>The main API is a single function, <a class="reference internal" href="#workflow.notify.notify" title="workflow.notify.notify"><code class="xref py py-func docutils literal"><span class="pre">notify()</span></code></a>.</p>
<p>It works by copying a simple application to your workflow&#8217;s data
directory. It replaces the application&#8217;s icon with your workflow&#8217;s
icon and then calls the application to post notifications.</p>
<dl class="function">
<dt id="workflow.notify.notify">
<code class="descclassname">workflow.notify.</code><code class="descname">notify</code><span class="sig-paren">(</span><em>title=u''</em>, <em>text=u''</em>, <em>sound=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.notify.notify" title="Permalink to this definition">¶</a></dt>
<dd><p>Post notification via Notify.app helper.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>title</strong> (<em>str, optional</em>) &#8211; Notification title.</li>
<li><strong>text</strong> (<em>str, optional</em>) &#8211; Notification body text.</li>
<li><strong>sound</strong> (<em>str, optional</em>) &#8211; Name of sound to play.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
Raised if both <code class="docutils literal"><span class="pre">title</span></code> and <code class="docutils literal"><span class="pre">text</span></code> are empty.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">True</span></code> if notification was posted, else <code class="docutils literal"><span class="pre">False</span></code>.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="helper-functions">
<h3><a class="toc-backref" href="#id15">Helper functions</a><a class="headerlink" href="#helper-functions" title="Permalink to this headline">¶</a></h3>
<p>These internal helper functions may also be useful in your workflow.</p>
<dl class="function">
<dt id="workflow.notify.convert_image">
<code class="descclassname">workflow.notify.</code><code class="descname">convert_image</code><span class="sig-paren">(</span><em>inpath</em>, <em>outpath</em>, <em>size</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.notify.convert_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an image file using <code class="docutils literal"><span class="pre">sips</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>inpath</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Path of source file.</li>
<li><strong>outpath</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Path to destination file.</li>
<li><strong>size</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Width and height of destination image in pixels.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code> &#8211;
Raised if <code class="docutils literal"><span class="pre">sips</span></code> exits with non-zero status.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="workflow.notify.png_to_icns">
<code class="descclassname">workflow.notify.</code><code class="descname">png_to_icns</code><span class="sig-paren">(</span><em>png_path</em>, <em>icns_path</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.notify.png_to_icns" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert PNG file to ICNS using <code class="docutils literal"><span class="pre">iconutil</span></code>.</p>
<p>Create an iconset from the source PNG file. Generate PNG files
in each size required by macOS, then call <code class="docutils literal"><span class="pre">iconutil</span></code> to turn
them into a single ICNS file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>png_path</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Path to source PNG file.</li>
<li><strong>icns_path</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Path to destination ICNS file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code> &#8211;
Raised if <code class="docutils literal"><span class="pre">iconutil</span></code> or <code class="docutils literal"><span class="pre">sips</span></code> fail.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="workflow.notify.validate_sound">
<code class="descclassname">workflow.notify.</code><code class="descname">validate_sound</code><span class="sig-paren">(</span><em>sound</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.notify.validate_sound" title="Permalink to this definition">¶</a></dt>
<dd><p>Coerce <code class="docutils literal"><span class="pre">sound</span></code> to valid sound name.</p>
<p>Returns <code class="docutils literal"><span class="pre">None</span></code> for invalid sounds. Sound names can be found
in <code class="docutils literal"><span class="pre">System</span> <span class="pre">Preferences</span> <span class="pre">&gt;</span> <span class="pre">Sound</span> <span class="pre">&gt;</span> <span class="pre">Sound</span> <span class="pre">Effects</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sound</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Name of system sound.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Proper name of sound or <code class="docutils literal"><span class="pre">None</span></code>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/icon_256.png" alt="Logo"/>
    
    <h1 class="logo logo-name">Alfred-Workflow</h1>
    
  </a>
</p>



<p class="blurb">A helper library for creating Alfred 2 workflows.</p>



<p>
<iframe src="https://ghbtns.com/github-btn.html?user=deanishe&repo=alfred-workflow&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>




<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../supported-versions.html">Supported software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">API documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-workflow">Workflow objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-workflow.workflow3">Workflow3 objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-workflow.background">Background processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-workflow.web">HTTP requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-workflow.update">Workflow updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-workflow.notify">Notifications</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dash.html">Dash docset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../licence.html">Licence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aw-workflows.html">Workflows</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../indices.html">Indices</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../indices.html#quick-index">Quick Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../indices.html#full-index">Full Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../indices.html#module-index">Module Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../indices.html#search">Search</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../guide/text-encoding.html" title="previous chapter">Encoded strings and Unicode</a></li>
      <li>Next: <a href="../contributing.html" title="next chapter">Contributing</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
	<h3>Donate</h3>
	
	<p>
	Consider supporting the author on <a href="https://www.gratipay.com/">Gratipay</a>:
	<script data-gratipay-username="deanishe"
	        data-gratipay-widget="button"
	        src="//gttp.co/v1.js"></script>
	</p>
	
	


        </div>
      </div>
      <div class="clearer"></div>
    </div>


    <div class="footer">
      &copy; 2013–2017 Dean Jackson.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
    </div>

    

    

<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//deanishe.net/piwik/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', 2]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//deanishe.net/piwik/piwik.php?idsite=2" style="border:0;" alt="" /></p></noscript>
<!-- End Piwik Code -->


  </body>
</html>